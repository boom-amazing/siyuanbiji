{"ID":"20230817161815-6skz28n","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161815-6skz28n","title":"mysql必知必会知识","updated":"20230817161815"},"Children":[{"ID":"20230817161816-kw8ooy8","Type":"NodeParagraph","Properties":{"id":"20230817161816-kw8ooy8","updated":"20230817161816"},"Children":[{"Type":"NodeText","Data":"mysql必知必会知识"}]},{"ID":"20230817161817-8yqee4e","Type":"NodeParagraph","Properties":{"id":"20230817161817-8yqee4e","updated":"20230817161817"},"Children":[{"Type":"NodeText","Data":"1、distinct 会作用于所有列而不仅仅是它前置的列 如果给出SELECT  DISTINCT id,nam"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"FROM "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"dis_test"},{"Type":"NodeText","Data":" 除非指定的两个列都不同 不然所有行都会被检索出来"}]},{"ID":"20230817161818-cgzsbli","Type":"NodeParagraph","Properties":{"id":"20230817161818-cgzsbli","updated":"20230817161818"},"Children":[{"Type":"NodeText","Data":"2、limit 4 offset 3表示 从行4开始取四行 与limit3 ,4结果一样 也嗲表从第i+1行开始 取j行"}]},{"ID":"20230817161819-ww1hivk","Type":"NodeParagraph","Properties":{"id":"20230817161819-ww1hivk","updated":"20230817161819"},"Children":[{"Type":"NodeText","Data":"3、order by price  desc ，prodname 会先按照price降序排列 price相同的再按照prodname生序排列"}]},{"ID":"20230817161820-h3kr7u5","Type":"NodeParagraph","Properties":{"id":"20230817161820-h3kr7u5","updated":"20230817161820"},"Children":[{"Type":"NodeText","Data":"4、在mysql中默认是不区分大小写的 需要修改表才行"}]},{"ID":"20230817161821-dsfr7ll","Type":"NodeParagraph","Properties":{"id":"20230817161821-dsfr7ll","updated":"20230817161821"},"Children":[{"Type":"NodeText","Data":"5、where\u003eorder by\u003elimit   order by可以和limit搭配获得最大最小值"}]},{"ID":"20230817161822-bk96deh","Type":"NodeParagraph","Properties":{"id":"20230817161822-bk96deh","updated":"20230817161822"},"Children":[{"Type":"NodeText","Data":"6、' '单引号用来限定特殊字符"}]},{"ID":"20230817161823-kjkmnb8","Type":"NodeParagraph","Properties":{"id":"20230817161823-kjkmnb8","updated":"20230817161823"},"Children":[{"Type":"NodeText","Data":"7、在过滤数据时 一定要保证数据中确实有null值 才能用null过滤"}]},{"ID":"20230817161824-led785c","Type":"NodeParagraph","Properties":{"id":"20230817161824-led785c","updated":"20230817161824"},"Children":[{"Type":"NodeText","Data":"8、用and和or子句时 需要用()来限定执行顺序"}]},{"ID":"20230817161825-zx66vl0","Type":"NodeParagraph","Properties":{"id":"20230817161825-zx66vl0","updated":"20230817161825"},"Children":[{"Type":"NodeText","Data":"9、in操作符比or执行更快 同时in还可以更其他select语句结合"}]},{"ID":"20230817161826-vy65i4b","Type":"NodeParagraph","Properties":{"id":"20230817161826-vy65i4b","updated":"20230817161826"},"Children":[{"Type":"NodeText","Data":"10、使用not和 in、between和exists等关键池取反 也可以快速过滤我们不想要的"}]},{"ID":"20230817161827-lk67do4","Type":"NodeParagraph","Properties":{"id":"20230817161827-lk67do4","updated":"20230817161827"},"Children":[{"Type":"NodeText","Data":"11、like操作符也用在where子句中  %通配符和like结合用  如like%asc%表示含有asc的语句 %asc表示以asc结尾 asc%表示以asc开头 %可以匹配0个 1个或多个 但是%不能匹配null 并且不能匹配有空格结尾"}]},{"ID":"20230817161828-t0cpm0i","Type":"NodeParagraph","Properties":{"id":"20230817161828-t0cpm0i","updated":"20230817161828"},"Children":[{"Type":"NodeText","Data":"_通配符只能匹配一个字符不能多也不能少 也可以和like搭配"}]},{"ID":"20230817161829-ouod1b7","Type":"NodeParagraph","Properties":{"id":"20230817161829-ouod1b7","updated":"20230817161829"},"Children":[{"Type":"NodeText","Data":"使用通配符技巧：1)、不能过度使用通配符 如果其他操作符也能达到要求 就不要使用"}]},{"ID":"20230817161830-pelcqgi","Type":"NodeParagraph","Properties":{"id":"20230817161830-pelcqgi","updated":"20230817161830"},"Children":[{"Type":"NodeText","Data":"2)、最好不要把它放在搜索模式开始处"}]},{"ID":"20230817161831-bkbjlmx","Type":"NodeParagraph","Properties":{"id":"20230817161831-bkbjlmx","updated":"20230817161831"},"Children":[{"Type":"NodeText","Data":"12、用正则表达式和where结合可以快速对文本匹配 like和regexp的区别 如like '1000'和regexp '1000'"}]},{"ID":"20230817161832-3jcqwa9","Type":"NodeParagraph","Properties":{"id":"20230817161832-3jcqwa9","updated":"20230817161832"},"Children":[{"Type":"NodeText","Data":"假设含有1000 前面的like不会被匹配 后面的正则会被匹配"}]},{"ID":"20230817161833-zcwpqac","Type":"NodeParagraph","Properties":{"id":"20230817161833-zcwpqac","updated":"20230817161833"},"Children":[{"Type":"NodeText","Data":"常见的正则匹配字符 . 表示任何 |表示或  ^表示取反 []表示包含 -表示范围和[]结合用  两个双斜线表示匹配通配符"}]},{"ID":"20230817161834-13bzhqd","Type":"NodeParagraph","Properties":{"id":"20230817161834-13bzhqd","updated":"20230817161834"},"Children":[{"Type":"NodeText","Data":"重复的元字符 *表示 0个或多个 +表示1个或多个 等价于{1,}？表示0个或者1个等价于{0,1} 指的是它前面的字符 ｛n｝指定书目匹配 {n,}不少于指定书目 {n,m}区域范围数目"}]},{"ID":"20230817161835-jog7ejr","Type":"NodeParagraph","Properties":{"id":"20230817161835-jog7ejr","updated":"20230817161835"},"Children":[{"Type":"NodeText","Data":"举个列子："}]},{"ID":"20230817161836-otvdl5q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161836-otvdl5q","updated":"20230817161836"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"select * from prod_name where name REGEXP '\\\\([0-9] sticks?\\\\)'\n;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161837-hn0nojc","Type":"NodeParagraph","Properties":{"id":"20230817161837-hn0nojc","updated":"20230817161837"},"Children":[{"Type":"NodeText","Data":"\\  \\ (表示匹配（ 【0-9】表示匹配任何数字 ?表示他前面的s是否可选 \\ \\）表示匹配）括号"}]},{"ID":"20230817161838-ygxtq22","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161838-ygxtq22","updated":"20230817161838"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"select * from prod_name where name REGEXP '[0-9]{4}' ;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161839-a3ni19g","Type":"NodeParagraph","Properties":{"id":"20230817161839-a3ni19g","updated":"20230817161839"},"Children":[{"Type":"NodeText","Data":"上面语句表示它前面的0-9的字符必须出现四次"}]},{"ID":"20230817161840-mu0lbca","Type":"NodeParagraph","Properties":{"id":"20230817161840-mu0lbca","updated":"20230817161840"},"Children":[{"Type":"NodeText","Data":"定位元字符：^表示文本开始 $表示文本结束"}]},{"ID":"20230817161841-hha31kv","Type":"NodeParagraph","Properties":{"id":"20230817161841-hha31kv","updated":"20230817161841"},"Children":[{"Type":"NodeText","Data":"^的两种用途 【 ^ 123】表示 否定123 ^【123】表示以123开头"}]},{"ID":"20230817161842-ysabbov","Type":"NodeParagraph","Properties":{"id":"20230817161842-ysabbov","updated":"20230817161842"},"Children":[{"Type":"NodeText","Data":"用^开头 和用$结束可以达到和like同样的用法"}]},{"ID":"20230817161843-n1die06","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161843-n1die06","updated":"20230817161843"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"select 'hello' regexp '^[h]'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161844-ud6vr0b","Type":"NodeParagraph","Properties":{"id":"20230817161844-ud6vr0b","updated":"20230817161844"},"Children":[{"Type":"NodeText","Data":"可以用上面的结果来测试正则表达式是否正确 该表示只返回0或者1 上面返回1 因为hello是以h开头的"}]},{"ID":"20230817161845-wmcpvnv","Type":"NodeParagraph","Properties":{"id":"20230817161845-wmcpvnv","updated":"20230817161845"},"Children":[{"Type":"NodeText","Data":"13、Concat()函数用来拼接两个字段 如concat(name.'(',country.')')"}]},{"ID":"20230817161846-wkukrtv","Type":"NodeParagraph","Properties":{"id":"20230817161846-wkukrtv","updated":"20230817161846"},"Children":[{"Type":"NodeText","Data":"14、常见文本处理函数"}]},{"ID":"20230817161847-g8jmoxe","Type":"NodeParagraph","Properties":{"id":"20230817161847-g8jmoxe","updated":"20230817161847"},"Children":[{"Type":"NodeText","Data":"left length locate lower ltrim right rtrim..."}]},{"ID":"20230817161848-jow791d","Type":"NodeParagraph","Properties":{"id":"20230817161848-jow791d","updated":"20230817161848"},"Children":[{"Type":"NodeText","Data":"15、日期函数"}]},{"ID":"20230817161849-uzn3522","Type":"NodeParagraph","Properties":{"id":"20230817161849-uzn3522","updated":"20230817161849"},"Children":[{"Type":"NodeText","Data":"date date_add datediff day  month year..."}]},{"ID":"20230817161850-1qybzmy","Type":"NodeParagraph","Properties":{"id":"20230817161850-1qybzmy","updated":"20230817161850"},"Children":[{"Type":"NodeText","Data":"16、数值处理函数"}]},{"ID":"20230817161851-uec66wc","Type":"NodeParagraph","Properties":{"id":"20230817161851-uec66wc","updated":"20230817161851"},"Children":[{"Type":"NodeText","Data":"abs cos exp mod pi rand sqrt ...."}]},{"ID":"20230817161852-1jgtzny","Type":"NodeParagraph","Properties":{"id":"20230817161852-1jgtzny","updated":"20230817161852"},"Children":[{"Type":"NodeText","Data":"17、聚集函数"}]},{"ID":"20230817161853-vsrm6y1","Type":"NodeParagraph","Properties":{"id":"20230817161853-vsrm6y1","updated":"20230817161853"},"Children":[{"Type":"NodeText","Data":"avg avg作用于某个列时会忽略列值为空的字段 avg只能作用于单个列 要求多个列的平均值 只能用多个avg"}]},{"ID":"20230817161854-zi81zow","Type":"NodeParagraph","Properties":{"id":"20230817161854-zi81zow","updated":"20230817161854"},"Children":[{"Type":"NodeText","Data":"常见的函数还有 max min sum都不能作用于空字段 这些函数都可以用来执行多个列的计算"}]},{"ID":"20230817161855-43t9358","Type":"NodeParagraph","Properties":{"id":"20230817161855-43t9358","updated":"20230817161855"},"Children":[{"Type":"NodeText","Data":"比如 sum(price*quanlity)及计算总价 还有distinct关键字只能作用于列名 不能作用于计算式"}]},{"ID":"20230817161856-6vpqztl","Type":"NodeParagraph","Properties":{"id":"20230817161856-6vpqztl","updated":"20230817161856"},"Children":[{"Type":"NodeText","Data":"注意在使用聚集函数时 可以和表达式结合使用 但前提是要进行分组聚合"}]},{"ID":"20230817161857-l4opdhw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161857-l4opdhw","updated":"20230817161857"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT day,count(if(num\u003e2,num,null)) FROM day_num group by day;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161858-yyxwdzz","Type":"NodeParagraph","Properties":{"id":"20230817161858-yyxwdzz","updated":"20230817161858"},"Children":[{"Type":"NodeText","Data":"18、过滤分组"}]},{"ID":"20230817161859-h0wk6ll","Type":"NodeParagraph","Properties":{"id":"20230817161859-h0wk6ll","updated":"20230817161859"},"Children":[{"Type":"NodeText","Data":"group使用规定："}]},{"ID":"20230817161860-fl6juh3","Type":"NodeParagraph","Properties":{"id":"20230817161860-fl6juh3","updated":"20230817161860"},"Children":[{"Type":"NodeText","Data":"1、 group by可以嵌套多个列"}]},{"ID":"20230817161861-8uqybyk","Type":"NodeParagraph","Properties":{"id":"20230817161861-8uqybyk","updated":"20230817161861"},"Children":[{"Type":"NodeText","Data":"2、嵌套的多个列必须是select 语句中的检索列或有效的表达式(注意在group by 字段中不能使用该表达式的别名 而应该使用原表达式) 同时group by不能作用于聚集函数"}]},{"ID":"20230817161862-pb9azrn","Type":"NodeParagraph","Properties":{"id":"20230817161862-pb9azrn","updated":"20230817161862"},"Children":[{"Type":"NodeText","Data":"3、分组中的列如果有null值 会单独分为一组 如果有多个null值 多个null会被分为一组"}]},{"ID":"20230817161863-5xhltjg","Type":"NodeParagraph","Properties":{"id":"20230817161863-5xhltjg","updated":"20230817161863"},"Children":[{"Type":"NodeText","Data":"4、group by语句必须在where 语句后 order by语句前 在大数据中可以先用where过滤掉空值 再用group by分组 最后再用order by排序"}]},{"ID":"20230817161864-5mikl3e","Type":"NodeParagraph","Properties":{"id":"20230817161864-5mikl3e","updated":"20230817161864"},"Children":[{"Type":"NodeText","Data":"还可以加with rollup关键字得到每个分组的汇总级别"}]},{"ID":"20230817161865-8rjp5v8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161865-8rjp5v8","updated":"20230817161865"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT day ,count(num) FROM day_num \ngroup by day with ROLLUP\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161866-9k2r52v","Type":"NodeParagraph","Properties":{"id":"20230817161866-9k2r52v","updated":"20230817161866"},"Children":[{"Type":"NodeText","Data":"where和having的区别："}]},{"ID":"20230817161867-020vs42","Type":"NodeParagraph","Properties":{"id":"20230817161867-020vs42","updated":"20230817161867"},"Children":[{"Type":"NodeText","Data":"where 在分组前过滤某些不需要的行，having在分组后过滤掉分组中不需要的行"}]},{"ID":"20230817161868-kees7px","Type":"NodeParagraph","Properties":{"id":"20230817161868-kees7px","updated":"20230817161868"},"Children":[{"Type":"NodeText","Data":"19、子查询的两种用法"}]},{"ID":"20230817161869-doco9fa","Type":"NodeParagraph","Properties":{"id":"20230817161869-doco9fa","updated":"20230817161869"},"Children":[{"Type":"NodeText","Data":"1、用在where子句的in操作符中 注意用间隔符来区分子查询 同时建议一层一层测试"}]},{"ID":"20230817161870-ueb9hhl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161870-ueb9hhl","updated":"20230817161870"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"select day \nfrom day_num \nwhere num in\n      (select distinct id \n\t\t\tfrom dis_test  \n\t\t\twhere nam='ABC')\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161871-j49xl6i","Type":"NodeParagraph","Properties":{"id":"20230817161871-j49xl6i","updated":"20230817161871"},"Children":[{"Type":"NodeText","Data":"2、用于填充计算列"}]},{"ID":"20230817161872-jieqs43","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161872-jieqs43","updated":"20230817161872"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"select day,num,(select distinct id \n\t\t\tfrom dis_test  \n\t\t\twhere nam='ABC') \nfrom day_num \n2022-03-01\t2\t3\n2022-03-02\t2\t3\n2022-03-03\t3\t3\n2022-03-04\t4\t3\n2022-03-05\t5\t3\n2022-03-06\t6\t3\n2022-03-07\t7\t3\n2022-03-08\t8\t3\n2022-03-09\t9\t3 注意上述子查询被计算了9次\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161873-m5bj328","Type":"NodeParagraph","Properties":{"id":"20230817161873-m5bj328","updated":"20230817161873"},"Children":[{"Type":"NodeText","Data":"20 、连接表"}]},{"ID":"20230817161874-0136aq6","Type":"NodeParagraph","Properties":{"id":"20230817161874-0136aq6","updated":"20230817161874"},"Children":[{"Type":"NodeText","Data":"mysql在设计表中 应尽可能采用三范式 将不同的维度通过不同的表建立 同时通过唯一指定的外键进行关联 要想关联多个表 既可以通过表连接来实现"}]},{"ID":"20230817161875-pjci3gy","Type":"NodeParagraph","Properties":{"id":"20230817161875-pjci3gy","updated":"20230817161875"},"Children":[{"Type":"NodeText","Data":"对于内连接 更加推荐使用inner join的方式连接两个表 连接表时 应尽量匹配有用的表"}]},{"ID":"20230817161876-t0sfuzw","Type":"NodeParagraph","Properties":{"id":"20230817161876-t0sfuzw","updated":"20230817161876"},"Children":[{"Type":"NodeText","Data":"21、表中的键"}]},{"ID":"20230817161877-yazyajj","Type":"NodeParagraph","Properties":{"id":"20230817161877-yazyajj","updated":"20230817161877"},"Children":[{"Type":"NodeText","Data":"主键 是用来唯一标识某一行的值 所以主键是不能重复的"}]},{"ID":"20230817161878-voa72h9","Type":"NodeParagraph","Properties":{"id":"20230817161878-voa72h9","updated":"20230817161878"},"Children":[{"Type":"NodeText","Data":"对于主键 我们应该不更新主键列中的值 不重用主键列中的值 以及不在主键列中使用可能会更改的值"}]},{"ID":"20230817161879-ul8xh0r","Type":"NodeParagraph","Properties":{"id":"20230817161879-ul8xh0r","updated":"20230817161879"},"Children":[{"Type":"NodeText","Data":"外键 是一个表中的列 包含了另一个表的主键 定义了两个表的关系"}]},{"ID":"20230817161880-sa599cl","Type":"NodeParagraph","Properties":{"id":"20230817161880-sa599cl","updated":"20230817161880"},"Children":[{"Type":"NodeText","Data":"用外键的好处：用一个现实中的列子来描绘 如果多个产品来自于一个供应商 而这个供应商又包含多个信息 如供应商的地址电话等 如果对每一个产品都存储这个供应商信息 显然浪费空间 于是乎可以用两张表存储 一个商品表 一个供应商表 然后商品表中的外键设置为供应商表的主键 用来唯一标识该供应商 这样即使供应商信息发生变化 也只需要相应的更新信息即可 是数据处理更加简便 同时使供应商信息不重复 极大的提高了空间利用"}]},{"ID":"20230817161881-cf7ebuu","Type":"NodeParagraph","Properties":{"id":"20230817161881-cf7ebuu","updated":"20230817161881"},"Children":[{"Type":"NodeText","Data":"NULL值 如果一个列中值不允许存储null值 则要在后面加NOT NULL"}]},{"ID":"20230817161882-xbn4cmz","Type":"NodeParagraph","Properties":{"id":"20230817161882-xbn4cmz","updated":"20230817161882"},"Children":[{"Type":"NodeText","Data":"AUTO_INCREMAENT 每个表中只含有一个 且必须含有索引 所以通常和主键结合使用"}]},{"ID":"20230817161883-ioxh0bf","Type":"NodeParagraph","Properties":{"id":"20230817161883-ioxh0bf","updated":"20230817161883"},"Children":[{"Type":"NodeText","Data":"22、引擎"}]},{"ID":"20230817161884-tg3c9m2","Type":"NodeParagraph","Properties":{"id":"20230817161884-tg3c9m2","updated":"20230817161884"},"Children":[{"Type":"NodeText","Data":"mysql必知的三个引擎："}]},{"ID":"20230817161885-6v5qvtz","Type":"NodeParagraph","Properties":{"id":"20230817161885-6v5qvtz","updated":"20230817161885"},"Children":[{"Type":"NodeText","Data":"1、innodb 支持事务处理 不支持全文搜索"}]},{"ID":"20230817161886-88mgwns","Type":"NodeParagraph","Properties":{"id":"20230817161886-88mgwns","updated":"20230817161886"},"Children":[{"Type":"NodeText","Data":"2、myisam 不支持事务 支持全文搜索"}]},{"ID":"20230817161887-yvbra35","Type":"NodeParagraph","Properties":{"id":"20230817161887-yvbra35","updated":"20230817161887"},"Children":[{"Type":"NodeText","Data":"3、memory 适用于创建临时表 因为数据存储在内存中 不是磁盘中 访问很快"}]},{"ID":"20230817161888-pfwn3hc","Type":"NodeParagraph","Properties":{"id":"20230817161888-pfwn3hc","updated":"20230817161888"},"Children":[{"Type":"NodeText","Data":"默认引擎是innodb"}]},{"ID":"20230817161889-n7lhnkt","Type":"NodeParagraph","Properties":{"id":"20230817161889-n7lhnkt","updated":"20230817161889"},"Children":[{"Type":"NodeText","Data":"23、视图"}]},{"ID":"20230817161890-5q5kyi6","Type":"NodeParagraph","Properties":{"id":"20230817161890-5q5kyi6","updated":"20230817161890"},"Children":[{"Type":"NodeText","Data":"使用视图的原因："}]},{"ID":"20230817161891-ezf0x0y","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161891-ezf0x0y","updated":"20230817161891"},"Children":[{"ID":"20230817161892-588vmcm","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161892-588vmcm","updated":"20230817161892"},"Children":[{"ID":"20230817161893-2nt2fna","Type":"NodeParagraph","Properties":{"id":"20230817161893-2nt2fna","updated":"20230817161893"},"Children":[{"Type":"NodeText","Data":"重用sql语句"}]}]},{"ID":"20230817161894-e9k1bjj","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161894-e9k1bjj","updated":"20230817161894"},"Children":[{"ID":"20230817161895-zfvw1nh","Type":"NodeParagraph","Properties":{"id":"20230817161895-zfvw1nh","updated":"20230817161895"},"Children":[{"Type":"NodeText","Data":"简化复杂的sql操作"}]}]},{"ID":"20230817161896-xhwo5zj","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161896-xhwo5zj","updated":"20230817161896"},"Children":[{"ID":"20230817161897-42dep0k","Type":"NodeParagraph","Properties":{"id":"20230817161897-42dep0k","updated":"20230817161897"},"Children":[{"Type":"NodeText","Data":"使用表而不是整个表"}]}]},{"ID":"20230817161898-n46u0sv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161898-n46u0sv","updated":"20230817161898"},"Children":[{"ID":"20230817161899-qlmzrpt","Type":"NodeParagraph","Properties":{"id":"20230817161899-qlmzrpt","updated":"20230817161899"},"Children":[{"Type":"NodeText","Data":"保护数据"}]}]},{"ID":"20230817161900-u61uip4","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161900-u61uip4","updated":"20230817161900"},"Children":[{"ID":"20230817161901-4jmp6n6","Type":"NodeParagraph","Properties":{"id":"20230817161901-4jmp6n6","updated":"20230817161901"},"Children":[{"Type":"NodeText","Data":"更改数据格式和表示"}]}]}]},{"ID":"20230817161902-vm9znti","Type":"NodeParagraph","Properties":{"id":"20230817161902-vm9znti","updated":"20230817161902"},"Children":[{"Type":"NodeText","Data":"视图的一些规范："}]},{"ID":"20230817161903-4gwpz2j","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161903-4gwpz2j","updated":"20230817161903"},"Children":[{"ID":"20230817161904-4vnzpdu","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161904-4vnzpdu","updated":"20230817161904"},"Children":[{"ID":"20230817161905-y23ieoh","Type":"NodeParagraph","Properties":{"id":"20230817161905-y23ieoh","updated":"20230817161905"},"Children":[{"Type":"NodeText","Data":"与表一样 视图必须唯一命名"}]}]},{"ID":"20230817161906-8q8g3rc","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161906-8q8g3rc","updated":"20230817161906"},"Children":[{"ID":"20230817161907-vbrcj9f","Type":"NodeParagraph","Properties":{"id":"20230817161907-vbrcj9f","updated":"20230817161907"},"Children":[{"Type":"NodeText","Data":"可以创建视图数量没有限制"}]}]},{"ID":"20230817161908-ylazlhl","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161908-ylazlhl","updated":"20230817161908"},"Children":[{"ID":"20230817161909-uavuorv","Type":"NodeParagraph","Properties":{"id":"20230817161909-uavuorv","updated":"20230817161909"},"Children":[{"Type":"NodeText","Data":"为了创建视图需要一定权限"}]}]},{"ID":"20230817161910-tx2zkyn","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161910-tx2zkyn","updated":"20230817161910"},"Children":[{"ID":"20230817161911-mvd2at6","Type":"NodeParagraph","Properties":{"id":"20230817161911-mvd2at6","updated":"20230817161911"},"Children":[{"Type":"NodeText","Data":"视图可以嵌套 即从其他视图中查询来构造视图"}]}]},{"ID":"20230817161912-i1cut3w","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161912-i1cut3w","updated":"20230817161912"},"Children":[{"ID":"20230817161913-dwcgb2h","Type":"NodeParagraph","Properties":{"id":"20230817161913-dwcgb2h","updated":"20230817161913"},"Children":[{"Type":"NodeText","Data":"视图不能索引 也不能有关联的触发器"}]}]},{"ID":"20230817161914-2wvwego","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161914-2wvwego","updated":"20230817161914"},"Children":[{"ID":"20230817161915-ww5l3dw","Type":"NodeParagraph","Properties":{"id":"20230817161915-ww5l3dw","updated":"20230817161915"},"Children":[{"Type":"NodeText","Data":"视图可以和表一起使用"}]}]}]},{"ID":"20230817161916-dd6f8yn","Type":"NodeParagraph","Properties":{"id":"20230817161916-dd6f8yn","updated":"20230817161916"},"Children":[{"Type":"NodeText","Data":"如何创建视图："}]},{"ID":"20230817161917-m67erj0","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161917-m67erj0","updated":"20230817161917"},"Children":[{"ID":"20230817161918-vbjp4uh","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161918-vbjp4uh","updated":"20230817161918"},"Children":[{"ID":"20230817161919-b68a82o","Type":"NodeParagraph","Properties":{"id":"20230817161919-b68a82o","updated":"20230817161919"},"Children":[{"Type":"NodeText","Data":"用create view viewname as select ....."}]}]},{"ID":"20230817161920-evnfd1n","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161920-evnfd1n","updated":"20230817161920"},"Children":[{"ID":"20230817161921-e0ulgbu","Type":"NodeParagraph","Properties":{"id":"20230817161921-e0ulgbu","updated":"20230817161921"},"Children":[{"Type":"NodeText","Data":"使用show create view viewname 来查看创建视图的语句"}]}]},{"ID":"20230817161922-5li7ipz","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161922-5li7ipz","updated":"20230817161922"},"Children":[{"ID":"20230817161923-uze8pag","Type":"NodeParagraph","Properties":{"id":"20230817161923-uze8pag","updated":"20230817161923"},"Children":[{"Type":"NodeText","Data":"用drop删除视图 drop view viewname"}]}]},{"ID":"20230817161924-coj0di5","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161924-coj0di5","updated":"20230817161924"},"Children":[{"ID":"20230817161925-bs2944m","Type":"NodeParagraph","Properties":{"id":"20230817161925-bs2944m","updated":"20230817161925"},"Children":[{"Type":"NodeText","Data":"更新视图用create  or replace view"}]}]}]},{"ID":"20230817161926-s43rgfp","Type":"NodeParagraph","Properties":{"id":"20230817161926-s43rgfp","updated":"20230817161926"},"Children":[{"Type":"NodeText","Data":"视图主要用来查询 而不用来修改 修改会修改原有的基表"}]},{"ID":"20230817161927-vry6kpk","Type":"NodeParagraph","Properties":{"id":"20230817161927-vry6kpk","updated":"20230817161927"},"Children":[{"Type":"NodeText","Data":"24、存储过程(类似于函数的使用 可以将一些方法封装在存储过程内部)"}]},{"ID":"20230817161928-ohcs89s","Type":"NodeParagraph","Properties":{"id":"20230817161928-ohcs89s","updated":"20230817161928"},"Children":[{"Type":"NodeText","Data":"举个列子 参数中同时使用了输入与输出 下面是创,2建和使用存储过程"}]},{"ID":"20230817161929-67nz0wd","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161929-67nz0wd","updated":"20230817161929"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"create procedure ordertotal(\nin onumber int,\nout ototal decimal(8,2)\n)\nbegin \nselect sum(price*quantity)\nfrom orderitems\nwhere order_num=onuber\ninto ototal;\nend;\n上面的语句表示的是传入一个订单号onumber 然后在商品表中找出一个和该订单号相同的订单 并且返回其总的价值给输出变量ototal\n\n如何调用呢？\ncall ordertotal(20005,@total) 用@来表示输出变量\n为了显示合计 可以用 select @total;\n@total\n149.87\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}