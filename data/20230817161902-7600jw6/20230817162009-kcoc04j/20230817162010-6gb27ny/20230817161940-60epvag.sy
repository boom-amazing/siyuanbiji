{"ID":"20230817161940-60epvag","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161940-60epvag","title":"case","updated":"20230817161940"},"Children":[{"ID":"20230817161941-jbn9v0d","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161941-jbn9v0d","updated":"20230817161941"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"sql题"}]},{"ID":"20230817161942-kd4xhlx","Type":"NodeParagraph","Properties":{"id":"20230817161942-kd4xhlx","updated":"20230817161942"},"Children":[{"Type":"NodeText","Data":"sql26："}]},{"ID":"20230817161943-gpu8epv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161943-gpu8epv","updated":"20230817161943"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"知识"}]},{"ID":"20230817161944-zuh1kkz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230817161944-zuh1kkz","updated":"20230817161944"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"CASE函数"}]},{"ID":"20230817161945-jxjfq2w","Type":"NodeParagraph","Properties":{"id":"20230817161945-jxjfq2w","updated":"20230817161945"},"Children":[{"Type":"NodeText","Data":"是一种多分支的函数，可以根据条件列表的值返回多个可能的结果表达式中的一个。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"可用在任何允许使用表达式的地方，但不能单独作为一个语句执行。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"分为："},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"简单CASE函数"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"搜索CASE函数"}]},{"ID":"20230817161946-c5yo5x7","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161946-c5yo5x7","updated":"20230817161946"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"简单 CASE函数"}]},{"ID":"20230817161947-jpufue9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161947-jpufue9","updated":"20230817161947"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"CASE` `测试表达式``WHEN` `简单表达式1 ``THEN` `结果表达式1``WHEN` `简单表达式2 ``THEN` `结果表达式2 …``WHEN` `简单表达式n ``THEN` `结果表达式n``[ ``ELSE` `结果表达式n+1 ]``END\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161948-0l8z44n","Type":"NodeParagraph","Properties":{"id":"20230817161948-0l8z44n","updated":"20230817161948"},"Children":[{"Type":"NodeText","Data":"计算测试表达式，按从上到下的书写顺序将测试表达式的值与每个WHEN子句的简单表达式进行比较。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"如果某个简单表达式的值与测试表达式的值相等，则返回第一个与之匹配的WHEN子句所对应的结果表达式的值。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"如果所有简单表达式的值与测试表达式的值都不相等，"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"若指定了ELSE子句,则返回ELSE子句中指定的结果表达式的值；"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"若没有指定ELSE子句，则返回NULL。"}]},{"ID":"20230817161949-gbielt2","Type":"NodeParagraph","Properties":{"id":"20230817161949-gbielt2","updated":"20230817161949"},"Children":[{"Type":"NodeText","Data":"例48. 查询班级表中的学生的班号、班名、系号和班主任号，并对系号作如下处理："},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"当系号为1时，显示 “计算机系”；"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"当系号为2时，显示 “软件工程系”；"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"当系号为3时，显示 “物联网系”。"}]},{"ID":"20230817161950-i0u0lvq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161950-i0u0lvq","updated":"20230817161950"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT` `班号 ,班名,``CASE` `系号``WHEN` `1 ``THEN` `'软件工程系'``WHEN` `2 ``THEN` `'计算机系'``WHEN` `3 ``THEN` `'物联网系'``END` `AS` `系号,班主任号``FROM` `班级表\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161951-9i8qh22","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161951-9i8qh22","updated":"20230817161951"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"搜索CASE函数"}]},{"ID":"20230817161952-pl84bva","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161952-pl84bva","updated":"20230817161952"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"CASE``WHEN` `布尔表达式1 ``THEN` `结果表达式1``WHEN` `布尔表达式2 ``THEN` `结果表达式2 …``WHEN` `布尔表达式n ``THEN` `结果表达式n``[ ``ELSE` `结果表达式n+1 ]``END\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161953-u883s8x","Type":"NodeParagraph","Properties":{"id":"20230817161953-u883s8x","updated":"20230817161953"},"Children":[{"Type":"NodeText","Data":"按从上到下的书写顺序计算每个WHEN子句的布尔表达式。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"返回第一个取值为TRUE的布尔表达式所对应的结果表达式的值。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"如果没有取值为TRUE的布尔表达式，"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"则当指定了ELSE子句时,返回ELSE子句中指定的结果；"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"如果没有指定ELSE子句，则返回NULL。"}]},{"ID":"20230817161954-9qjsn1o","Type":"NodeParagraph","Properties":{"id":"20230817161954-9qjsn1o","updated":"20230817161954"},"Children":[{"Type":"NodeText","Data":"例48用搜索CASE来做："}]},{"ID":"20230817161955-3jj4a0q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161955-3jj4a0q","updated":"20230817161955"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT` `班号 ,班名,``CASE``WHEN` `系号=1 ``THEN` `'软件工程系'``WHEN` `系号=2 ``THEN` `'计算机系'``WHEN` `系号=3 ``THEN` `'物联网系'``END` `AS` `系号,班主任号``FROM` `班级表\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161956-qmgo6um","Type":"NodeParagraph","Properties":{"id":"20230817161956-qmgo6um","updated":"20230817161956"},"Children":[{"Type":"NodeText","Data":"例49.查询“M01F011”号课程的考试情况，列出学号、课程号和成绩，同时将百分制成绩显示为等级。"}]},{"ID":"20230817161957-dpb0729","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161957-dpb0729","updated":"20230817161957"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT` `学号,课程号,``CASE``WHEN` `成绩 \u003e= 90 ``THEN` `'优'``WHEN` `成绩 ``BETWEEN` `80 ``AND` `89 ``THEN` `'良'``WHEN` `成绩 ``BETWEEN` `70 ``AND` `79 ``THEN` `'中'``WHEN` `成绩 ``BETWEEN` `60 ``AND` `69 ``THEN` `'及格'``WHEN` `成绩 \u003c60 ``THEN` `'不及格'``END` `成绩``FROM` `成绩表``WHERE` `课程号 = ``'M01F011'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161958-jkin4jo","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230817161958-jkin4jo","updated":"20230817161958"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"CASE函数(续)"}]},{"ID":"20230817161959-ppg3x0u","Type":"NodeParagraph","Properties":{"id":"20230817161959-ppg3x0u","updated":"20230817161959"},"Children":[{"Type":"NodeText","Data":"例50.统计每个班男生和女生的数量各是多少，统计结果的表头为，班号，男生数量，女生数量。"}]},{"ID":"20230817161960-vedy5mt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161960-vedy5mt","updated":"20230817161960"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT` `班号,``COUNT``(``CASE` `WHEN` `性别=‘男’ ``THEN` `‘男’ ``END``) 男生数,``COUNT``(``CASE` `WHEN` `性别=‘女’ ``THEN` `‘女’ ``END``) 女生数``FROM` `学生表 ``GROUP` `BY` `班号\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161961-dxlkzab","Type":"NodeParagraph","Properties":{"id":"20230817161961-dxlkzab","updated":"20230817161961"},"Children":[{"Type":"NodeText","Data":"例51.判断成绩的等级，85-100为“优”，70-84为“良”，60-69为“及格”，60以下为“不及格”，并统计每一等级的人数。"}]},{"ID":"20230817161962-fdp0cza","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161962-fdp0cza","updated":"20230817161962"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT``CASE``WHEN` `GRADE ``BETWEEN` `85 ``AND` `100 ``THEN` `'优'``WHEN` `GRADE ``BETWEEN` `70 ``AND` `84 ``THEN` `'良'``WHEN` `GRADE ``BETWEEN` `60 ``AND` `69 ``THEN` `'及格'``ELSE` `'不及格'``END` `等级, ``COUNT``(*) 人数``FROM` `SC``GROUP` `BY``CASE``WHEN` `GRADE ``BETWEEN` `85 ``AND` `100 ``THEN` `'优'``WHEN` `GRADE ``BETWEEN` `70 ``AND` `84 ``THEN` `'良'``WHEN` `GRADE ``BETWEEN` `60 ``AND` `69 ``THEN` `'及格'``ELSE` `'不及格'``END\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161963-6gj9tdp","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161963-6gj9tdp","updated":"20230817161963"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"题解"}]},{"ID":"20230817161964-ywzbrul","Type":"NodeParagraph","Properties":{"id":"20230817161964-ywzbrul","updated":"20230817161964"},"Children":[{"Type":"NodeText","Data":"题目：现在运营想要将用户"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"划分为25岁以下和25岁及以上两个年龄段"},{"Type":"NodeText","Data":"，分别查看这两个年龄段用户数量"}]},{"ID":"20230817161965-evbpive","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161965-evbpive","updated":"20230817161965"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT` `CASE` `WHEN` `age \u003c 25 ``OR` `age ``IS` `NULL` `THEN` `'25岁以下'``      ``WHEN` `age \u003e= 25 ``THEN` `'25岁及以上'``      ``END` `age_cut,``COUNT``(*)number``FROM` `user_profile``GROUP` `BY` `age_cut\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161966-40buyrf","Type":"NodeParagraph","Properties":{"id":"20230817161966-40buyrf","updated":"20230817161966"},"Children":[{"Type":"NodeText","Data":"示例：user_profile"}]},{"ID":"20230817161967-0n3gole","Type":"NodeParagraph","Properties":{"id":"20230817161967-0n3gole","updated":"20230817161967"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"img","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://uploadfiles.nowcoder.com/images/20210928/999991344_1632828974694/7219DA906D0C14B655E857C7349E6017","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230817161968-dvfbvnj","Type":"NodeParagraph","Properties":{"id":"20230817161968-dvfbvnj","updated":"20230817161968"},"Children":[{"Type":"NodeText","Data":"根据示例，你的查询应返回以下结果："}]},{"ID":"20230817161969-h8b2el1","Type":"NodeParagraph","Properties":{"id":"20230817161969-h8b2el1","updated":"20230817161969"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"img","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://uploadfiles.nowcoder.com/images/20210928/999991344_1632831829937/75D997B10141AD2740283AC28486E68D","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]}]}