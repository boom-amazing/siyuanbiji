{"ID":"20230817161927-ssno0kd","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161927-ssno0kd","title":"文本函数","updated":"20230817161927"},"Children":[{"ID":"20230817161928-3g4vidt","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230817161928-3g4vidt","updated":"20230817161928"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"文本函数"}]},{"ID":"20230817161929-ehwl5a3","Type":"NodeParagraph","Properties":{"id":"20230817161929-ehwl5a3","updated":"20230817161929"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"在日常工作中有时会遇到各种各样的文本数据，下面我们来介绍一些常见的文本处理函"}]},{"ID":"20230817161930-qbe654x","Type":"NodeParagraph","Properties":{"id":"20230817161930-qbe654x","updated":"20230817161930"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"数。"}]},{"ID":"20230817161931-s3gzazb","Type":"NodeParagraph","Properties":{"id":"20230817161931-s3gzazb","updated":"20230817161931"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"长度 —length"}]},{"ID":"20230817161932-pbm0slp","Type":"NodeParagraph","Properties":{"id":"20230817161932-pbm0slp","updated":"20230817161932"},"Children":[{"Type":"NodeText","Data":"length函数返回文本字段中值的长度,比如"}]},{"ID":"20230817161933-mty6t1c","Type":"NodeBlockquote","Properties":{"id":"20230817161933-mty6t1c","updated":"20230817161933"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161934-gyquo2b","Type":"NodeParagraph","Properties":{"id":"20230817161934-gyquo2b","updated":"20230817161934"},"Children":[{"Type":"NodeText","Data":"select length(‘abc’)"}]}]},{"ID":"20230817161935-j0s8me1","Type":"NodeParagraph","Properties":{"id":"20230817161935-j0s8me1","updated":"20230817161935"},"Children":[{"Type":"NodeText","Data":"返回结果为3"}]},{"ID":"20230817161936-585x17q","Type":"NodeParagraph","Properties":{"id":"20230817161936-585x17q","updated":"20230817161936"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"连接 —concat"}]},{"ID":"20230817161937-y9yvdib","Type":"NodeParagraph","Properties":{"id":"20230817161937-y9yvdib","updated":"20230817161937"},"Children":[{"Type":"NodeText","Data":"CONCAT函数用于将两个或多个字符串连接起来，形成一个单一的字符串"}]},{"ID":"20230817161938-fohnia5","Type":"NodeBlockquote","Properties":{"id":"20230817161938-fohnia5","updated":"20230817161938"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161939-r7xkx3q","Type":"NodeParagraph","Properties":{"id":"20230817161939-r7xkx3q","updated":"20230817161939"},"Children":[{"Type":"NodeText","Data":"select concat(‘abc’,'bcd’)"}]}]},{"ID":"20230817161940-iwvx5tt","Type":"NodeParagraph","Properties":{"id":"20230817161940-iwvx5tt","updated":"20230817161940"},"Children":[{"Type":"NodeText","Data":"返回结果为 ‘abcbcd'"}]},{"ID":"20230817161941-e9hkofo","Type":"NodeBlockquote","Properties":{"id":"20230817161941-e9hkofo","updated":"20230817161941"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161942-idxwc7w","Type":"NodeParagraph","Properties":{"id":"20230817161942-idxwc7w","updated":"20230817161942"},"Children":[{"Type":"NodeText","Data":"select concat(‘abc’,’bcd’,’ff')"}]}]},{"ID":"20230817161943-bozrzco","Type":"NodeParagraph","Properties":{"id":"20230817161943-bozrzco","updated":"20230817161943"},"Children":[{"Type":"NodeText","Data":"返回结果为 ‘abcbcdff'"}]},{"ID":"20230817161944-t19vxpp","Type":"NodeParagraph","Properties":{"id":"20230817161944-t19vxpp","updated":"20230817161944"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"分割 —SUBSTRING_INDEX"}]},{"ID":"20230817161945-mupt6ex","Type":"NodeParagraph","Properties":{"id":"20230817161945-mupt6ex","updated":"20230817161945"},"Children":[{"Type":"NodeText","Data":"SUBSTRING_INDEX函数用于将字符串依据某个指定分隔符进行切分，并返回指定位置分隔符前的字符。(字段分割符,位置）"}]},{"ID":"20230817161946-wldrmrg","Type":"NodeParagraph","Properties":{"id":"20230817161946-wldrmrg","updated":"20230817161946"},"Children":[{"Type":"NodeText","Data":"假如现在有一列字段以字符串记录了用户的身高体重和性别，如 ‘180,78kg,male'，现 在想要分别取出用户的身高和体重，应该怎么做呢？这时就可以用到 SUBSTRING_INDEX函数，指定逗号作为分隔符，如果想要返回身高的话，位置填1，即 可得到相应结果。"}]},{"ID":"20230817161947-2tn3sci","Type":"NodeBlockquote","Properties":{"id":"20230817161947-2tn3sci","updated":"20230817161947"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161948-pruszsx","Type":"NodeParagraph","Properties":{"id":"20230817161948-pruszsx","updated":"20230817161948"},"Children":[{"Type":"NodeText","Data":"select SUBSTRING_INDEX('180,78kg',',','1') as height"}]}]},{"ID":"20230817161949-qrt53b5","Type":"NodeParagraph","Properties":{"id":"20230817161949-qrt53b5","updated":"20230817161949"},"Children":[{"Type":"NodeText","Data":"取身高相对简单，但如果想要取出体重应该怎么做呢？如果使用下面的代码，结果会返回第二个分隔符前的所有字符，结果为’180,78kg’，会多取出身高的信息。"}]},{"ID":"20230817161950-2c6lir9","Type":"NodeBlockquote","Properties":{"id":"20230817161950-2c6lir9","updated":"20230817161950"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161951-gkrejw2","Type":"NodeParagraph","Properties":{"id":"20230817161951-gkrejw2","updated":"20230817161951"},"Children":[{"Type":"NodeText","Data":"select SUBSTRING_INDEX('180,78kg',',’,'2') as height"}]}]},{"ID":"20230817161952-xbkdi6e","Type":"NodeParagraph","Properties":{"id":"20230817161952-xbkdi6e","updated":"20230817161952"},"Children":[{"Type":"NodeText","Data":"这种情况下可以嵌套一次SUBSTRING_INDEX查询,负数位置代表从后向前取，-1代表最后一位，第二层嵌套相当于是取出’180,78kg'的最后一个逗号后的字符，得到我们想要的体重数据"}]},{"ID":"20230817161953-lhpcr9a","Type":"NodeBlockquote","Properties":{"id":"20230817161953-lhpcr9a","updated":"20230817161953"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161954-dksnfmo","Type":"NodeParagraph","Properties":{"id":"20230817161954-dksnfmo","updated":"20230817161954"},"Children":[{"Type":"NodeText","Data":"select SUBSTRING_INDEX(SUBSTRING_INDEX('180,78kg',',’,'2’),’,’,-1) as height"}]}]},{"ID":"20230817161955-c4qs7ui","Type":"NodeParagraph","Properties":{"id":"20230817161955-c4qs7ui","updated":"20230817161955"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"定位 —instr"}]},{"ID":"20230817161956-9j82b8i","Type":"NodeParagraph","Properties":{"id":"20230817161956-9j82b8i","updated":"20230817161956"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"instr(substr,str)：返回substr字符串在str里第一次出现的位置，从1开始，没有泽返"}]},{"ID":"20230817161957-1vofo22","Type":"NodeParagraph","Properties":{"id":"20230817161957-1vofo22","updated":"20230817161957"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"回0"}]},{"ID":"20230817161958-gi2zh7i","Type":"NodeBlockquote","Properties":{"id":"20230817161958-gi2zh7i","updated":"20230817161958"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161959-gax9dvz","Type":"NodeParagraph","Properties":{"id":"20230817161959-gax9dvz","updated":"20230817161959"},"Children":[{"Type":"NodeText","Data":"select instr('bacd','a')"}]}]},{"ID":"20230817161960-3zc3hv4","Type":"NodeParagraph","Properties":{"id":"20230817161960-3zc3hv4","updated":"20230817161960"},"Children":[{"Type":"NodeText","Data":"该行代码表示从bacd字符串中寻找字符a首次出现的位置，输出值为2"}]},{"ID":"20230817161961-1jyxqlj","Type":"NodeParagraph","Properties":{"id":"20230817161961-1jyxqlj","updated":"20230817161961"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"截取 —substring"}]},{"ID":"20230817161962-s8lrc4n","Type":"NodeParagraph","Properties":{"id":"20230817161962-s8lrc4n","updated":"20230817161962"},"Children":[{"Type":"NodeText","Data":"substr（string A，int start，int len）,返回字符串A从下标start位置开始，长度为len的字符串"}]},{"ID":"20230817161963-pzn8e3e","Type":"NodeParagraph","Properties":{"id":"20230817161963-pzn8e3e","updated":"20230817161963"},"Children":[{"Type":"NodeText","Data":"substring（string A，int start）,在不指定返回字符串长度的情况下，返回字符串A从下标start位置到结尾的字符串"}]},{"ID":"20230817161964-hgk4ng6","Type":"NodeBlockquote","Properties":{"id":"20230817161964-hgk4ng6","updated":"20230817161964"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161965-sd49y8p","Type":"NodeParagraph","Properties":{"id":"20230817161965-sd49y8p","updated":"20230817161965"},"Children":[{"Type":"NodeText","Data":"select substring(‘bacda’,2)"}]}]},{"ID":"20230817161966-584otbz","Type":"NodeParagraph","Properties":{"id":"20230817161966-584otbz","updated":"20230817161966"},"Children":[{"Type":"NodeText","Data":"输出：’acda’，代码表示返回从第2个字符起到末尾所有的字符串"}]},{"ID":"20230817161967-vlnm3et","Type":"NodeBlockquote","Properties":{"id":"20230817161967-vlnm3et","updated":"20230817161967"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161968-49jlgsd","Type":"NodeParagraph","Properties":{"id":"20230817161968-49jlgsd","updated":"20230817161968"},"Children":[{"Type":"NodeText","Data":"select substring(‘bacda’,2,2)"}]}]},{"ID":"20230817161969-at3z5vf","Type":"NodeParagraph","Properties":{"id":"20230817161969-at3z5vf","updated":"20230817161969"},"Children":[{"Type":"NodeText","Data":"输出：’ac’，代码表示返回从第2个字符起后2个字符串"}]}]}