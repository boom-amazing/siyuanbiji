{"ID":"20230817161939-c75hkdh","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161939-c75hkdh","title":"子查询","updated":"20230817161939"},"Children":[{"ID":"20230817161940-bcpqki5","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230817161940-bcpqki5","updated":"20230817161940"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"子查询"}]},{"ID":"20230817161941-aneqf1s","Type":"NodeParagraph","Properties":{"id":"20230817161941-aneqf1s","updated":"20230817161941"},"Children":[{"Type":"NodeText","Data":"SELECT 语句是 SQL 的查询。我们迄今为止所看到的所有 SELECT 语句都 是简单查询， 即从单个数据库表中检索数据的单条语句。 SQL 还允许创建子查询（subquery），即 嵌套在其他查询中的查询。为了更好的理解子查询的概念，我们来看一个例子："}]},{"ID":"20230817161942-tn9ltey","Type":"NodeParagraph","Properties":{"id":"20230817161942-tn9ltey","updated":"20230817161942"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"题库练习明细表：question_practice_detail"}]},{"ID":"20230817161943-c6ct1s9","Type":"NodeParagraph","Properties":{"id":"20230817161943-c6ct1s9","updated":"20230817161943"},"Children":[{"Type":"NodeText","Data":"question_practice表中存储了每个用户在在线题库中进行题目练习的明细情况，每个"}]},{"ID":"20230817161944-jhb1op8","Type":"NodeParagraph","Properties":{"id":"20230817161944-jhb1op8","updated":"20230817161944"},"Children":[{"Type":"NodeText","Data":"用户每次做的每道练习会在表中生成一行记录，表形式如下："}]},{"ID":"20230817161945-utz5gkq","Type":"NodeParagraph","Properties":{"id":"20230817161945-utz5gkq","updated":"20230817161945"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"img","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://uploadfiles.nowcoder.com/files/20210822/588579017_1629625374787/.jpg","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230817161946-rppo4pw","Type":"NodeParagraph","Properties":{"id":"20230817161946-rppo4pw","updated":"20230817161946"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"img","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://uploadfiles.nowcoder.com/images/20190919/56_1568900435177_29C080A5413E925FE3B3CCB4048AB99B","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230817161947-r6jw9zi","Type":"NodeParagraph","Properties":{"id":"20230817161947-r6jw9zi","updated":"20230817161947"},"Children":[{"Type":"NodeText","Data":"上述两个表中可以看到用户身份相关的信息储存在用户信息表中，而答题相关的信息储存在题库练习明细表中，如果我们只想查看来自山东大学的学生每天的题库练习情况， 应该怎么做呢？"}]},{"ID":"20230817161948-h9xgzd7","Type":"NodeBlockquote","Properties":{"id":"20230817161948-h9xgzd7","updated":"20230817161948"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161949-3u9ni0x","Type":"NodeParagraph","Properties":{"id":"20230817161949-3u9ni0x","updated":"20230817161949"},"Children":[{"Type":"NodeText","Data":"SELECT"}]}]},{"ID":"20230817161950-6v1ffzv","Type":"NodeBlockquote","Properties":{"id":"20230817161950-6v1ffzv","updated":"20230817161950"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161951-dfki01i","Type":"NodeParagraph","Properties":{"id":"20230817161951-dfki01i","updated":"20230817161951"},"Children":[{"Type":"NodeText","Data":"device_id,"}]}]},{"ID":"20230817161952-7pqh0jc","Type":"NodeBlockquote","Properties":{"id":"20230817161952-7pqh0jc","updated":"20230817161952"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161953-30unsqe","Type":"NodeParagraph","Properties":{"id":"20230817161953-30unsqe","updated":"20230817161953"},"Children":[{"Type":"NodeText","Data":"question_id,"}]}]},{"ID":"20230817161954-i3bu0bh","Type":"NodeBlockquote","Properties":{"id":"20230817161954-i3bu0bh","updated":"20230817161954"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161955-t0joxgh","Type":"NodeParagraph","Properties":{"id":"20230817161955-t0joxgh","updated":"20230817161955"},"Children":[{"Type":"NodeText","Data":"result"}]}]},{"ID":"20230817161956-6nb8p8r","Type":"NodeBlockquote","Properties":{"id":"20230817161956-6nb8p8r","updated":"20230817161956"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161957-x2uayvl","Type":"NodeParagraph","Properties":{"id":"20230817161957-x2uayvl","updated":"20230817161957"},"Children":[{"Type":"NodeText","Data":"FROM question_practice_detail"}]}]},{"ID":"20230817161958-kf70xgq","Type":"NodeBlockquote","Properties":{"id":"20230817161958-kf70xgq","updated":"20230817161958"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161959-oukt165","Type":"NodeParagraph","Properties":{"id":"20230817161959-oukt165","updated":"20230817161959"},"Children":[{"Type":"NodeText","Data":"WHERE device_id IN (SELECT device_id FROM user_profile"}]}]},{"ID":"20230817161960-5tvr46l","Type":"NodeBlockquote","Properties":{"id":"20230817161960-5tvr46l","updated":"20230817161960"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161961-4hfgs3f","Type":"NodeParagraph","Properties":{"id":"20230817161961-4hfgs3f","updated":"20230817161961"},"Children":[{"Type":"NodeText","Data":"WHERE university ='山东大学');"}]}]},{"ID":"20230817161962-hznjevt","Type":"NodeParagraph","Properties":{"id":"20230817161962-hznjevt","updated":"20230817161962"},"Children":[{"Type":"NodeText","Data":"在 SELECT 语句中，子查询总是从内向外处理。在处理上面的 SELECT 语 句时，DBMS实际上执行了两个操作。"}]},{"ID":"20230817161963-ztgk6pm","Type":"NodeParagraph","Properties":{"id":"20230817161963-ztgk6pm","updated":"20230817161963"},"Children":[{"Type":"NodeText","Data":"首先，它执行下面的查询："}]},{"ID":"20230817161964-g54qulz","Type":"NodeBlockquote","Properties":{"id":"20230817161964-g54qulz","updated":"20230817161964"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161965-0s7qqt3","Type":"NodeParagraph","Properties":{"id":"20230817161965-0s7qqt3","updated":"20230817161965"},"Children":[{"Type":"NodeText","Data":"SELECT device_id FROM user_active WHERE university ='山东大学'"}]}]},{"ID":"20230817161966-0glecle","Type":"NodeParagraph","Properties":{"id":"20230817161966-0glecle","updated":"20230817161966"},"Children":[{"Type":"NodeText","Data":"这个查询可以返回所有的山东大学用户的device_id， 然后，这些值以IN 操作符要求的逗号分隔的格式传递给外部查询的 WHERE 子句外部查询变成："}]},{"ID":"20230817161967-vak2ha4","Type":"NodeBlockquote","Properties":{"id":"20230817161967-vak2ha4","updated":"20230817161967"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161968-r3dcimu","Type":"NodeParagraph","Properties":{"id":"20230817161968-r3dcimu","updated":"20230817161968"},"Children":[{"Type":"NodeText","Data":"SELECT cust_id FROM orders WHERE order_num IN (5432，,2131) ，"}]}]},{"ID":"20230817161969-0bmfuzi","Type":"NodeParagraph","Properties":{"id":"20230817161969-0bmfuzi","updated":"20230817161969"},"Children":[{"Type":"NodeText","Data":"通过这样的方式，就可以得到我们想要的结果，返回所有山东大学。"}]}]}