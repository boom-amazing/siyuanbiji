{"ID":"20230817161742-k7mo3h2","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161742-k7mo3h2","title":"快速了解Redis","updated":"20230817161742"},"Children":[{"ID":"20230817161743-2iush5m","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230817161743-2iush5m","updated":"20230817161743"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"快速了解Redis"}]},{"ID":"20230817161744-9s93jrr","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161744-9s93jrr","updated":"20230817161744"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是Redis"}]},{"ID":"20230817161745-lhrlmqc","Type":"NodeParagraph","Properties":{"id":"20230817161745-lhrlmqc","updated":"20230817161745"},"Children":[{"Type":"NodeText","Data":"Redis是一种面向 “Key-Value” 数据类型的内存数据库，可以满足我们对海量数据的快速读写需求"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"注意：首先Redis是一种内存数据库，它的数据都是放在内存里面的，"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"然后Redis中存储的数据都是key-value类型的"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"其中redis中的key只能是字符串，value支持多种数据类型"}]},{"ID":"20230817161746-o96fgm3","Type":"NodeParagraph","Properties":{"id":"20230817161746-o96fgm3","updated":"20230817161746"},"Children":[{"Type":"NodeText","Data":"常见的有"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"string、hash、list、set、sortedset"},{"Type":"NodeText","Data":"等"}]},{"ID":"20230817161747-b6oabuv","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161747-b6oabuv","updated":"20230817161747"},"Children":[{"ID":"20230817161748-zfc58gj","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161748-zfc58gj","updated":"20230817161748"},"Children":[{"ID":"20230817161749-n0bklti","Type":"NodeParagraph","Properties":{"id":"20230817161749-n0bklti","updated":"20230817161749"},"Children":[{"Type":"NodeText","Data":"字符串 string"}]}]},{"ID":"20230817161750-r0q0b42","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230817161750-r0q0b42","updated":"20230817161750"},"Children":[{"ID":"20230817161751-ks8ors6","Type":"NodeParagraph","Properties":{"id":"20230817161751-ks8ors6","updated":"20230817161751"},"Children":[{"Type":"NodeText","Data":"哈希 hash，类似于java中的hashmap"}]}]},{"ID":"20230817161752-cyl23er","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20230817161752-cyl23er","updated":"20230817161752"},"Children":[{"ID":"20230817161753-xxtwbu4","Type":"NodeParagraph","Properties":{"id":"20230817161753-xxtwbu4","updated":"20230817161753"},"Children":[{"Type":"NodeText","Data":"字符串列表 list"}]}]},{"ID":"20230817161754-dm2anxr","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20230817161754-dm2anxr","updated":"20230817161754"},"Children":[{"ID":"20230817161755-6ecdbb4","Type":"NodeParagraph","Properties":{"id":"20230817161755-6ecdbb4","updated":"20230817161755"},"Children":[{"Type":"NodeText","Data":"字符串集合 set 不重复，无序"}]}]},{"ID":"20230817161756-woct2tc","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20230817161756-woct2tc","updated":"20230817161756"},"Children":[{"ID":"20230817161757-63v304p","Type":"NodeParagraph","Properties":{"id":"20230817161757-63v304p","updated":"20230817161757"},"Children":[{"Type":"NodeText","Data":"有序集合sorted set ，不重复，有序"}]}]}]},{"ID":"20230817161758-2cs8l8r","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161758-2cs8l8r","updated":"20230817161758"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Redis的特点"}]},{"ID":"20230817161759-gz1izi9","Type":"NodeParagraph","Properties":{"id":"20230817161759-gz1izi9","updated":"20230817161759"},"Children":[{"Type":"NodeText","Data":"接下来看一下Redis的一些特点"}]},{"ID":"20230817161760-erwn4f2","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161760-erwn4f2","updated":"20230817161760"},"Children":[{"ID":"20230817161761-56a2w7z","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161761-56a2w7z","updated":"20230817161761"},"Children":[{"ID":"20230817161762-i7m2z3f","Type":"NodeParagraph","Properties":{"id":"20230817161762-i7m2z3f","updated":"20230817161762"},"Children":[{"Type":"NodeText","Data":"高性能：Redis读的速度是11W次/s,写的速度是8.1W次/s"}]}]},{"ID":"20230817161763-fceikbv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161763-fceikbv","updated":"20230817161763"},"Children":[{"ID":"20230817161764-vjr861g","Type":"NodeParagraph","Properties":{"id":"20230817161764-vjr861g","updated":"20230817161764"},"Children":[{"Type":"NodeText","Data":"原子性：保证数据的准确性"}]}]},{"ID":"20230817161765-ztilly9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161765-ztilly9","updated":"20230817161765"},"Children":[{"ID":"20230817161766-jzjej2u","Type":"NodeParagraph","Properties":{"id":"20230817161766-jzjej2u","updated":"20230817161766"},"Children":[{"Type":"NodeText","Data":"持久存储：支持两种方式的持久化，RDB和AOF，可以把内存中的数据持久化到磁盘中"}]}]},{"ID":"20230817161767-titsmne","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161767-titsmne","updated":"20230817161767"},"Children":[{"ID":"20230817161768-wuecap9","Type":"NodeParagraph","Properties":{"id":"20230817161768-wuecap9","updated":"20230817161768"},"Children":[{"Type":"NodeText","Data":"支持主从：master-slave架构，可以实现负载均衡、高可用"}]}]},{"ID":"20230817161769-zueqmz0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161769-zueqmz0","updated":"20230817161769"},"Children":[{"ID":"20230817161770-eieb0jp","Type":"NodeParagraph","Properties":{"id":"20230817161770-eieb0jp","updated":"20230817161770"},"Children":[{"Type":"NodeText","Data":"支持集群：从3.0版本开始支持"}]}]}]},{"ID":"20230817161771-9dhdjuy","Type":"NodeBlockquote","Properties":{"id":"20230817161771-9dhdjuy","updated":"20230817161771"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161772-rtyry60","Type":"NodeParagraph","Properties":{"id":"20230817161772-rtyry60","updated":"20230817161772"},"Children":[{"Type":"NodeText","Data":"注意：Redis是一个 单线程 的服务，作者之所以这么设计，主要是为了保证redis的快速，高效，如果涉及了多线程，就需要使用锁机制来解决并发问题，这样执行效率反而会打折扣。"}]}]},{"ID":"20230817161773-40brssl","Type":"NodeBlockquote","Properties":{"id":"20230817161773-40brssl","updated":"20230817161773"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161774-3au6air","Type":"NodeParagraph","Properties":{"id":"20230817161774-3au6air","updated":"20230817161774"},"Children":[{"Type":"NodeText","Data":"注意：Redis是一个 NoSQL 数据库，NoSQL的全称是not only sql，不仅仅是SQL，泛指非关系型数据库，这种类型的数据库不支持SQL语法。"}]}]},{"ID":"20230817161775-5u56dq8","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161775-5u56dq8","updated":"20230817161775"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Redis的应用场景"}]},{"ID":"20230817161776-eocjker","Type":"NodeParagraph","Properties":{"id":"20230817161776-eocjker","updated":"20230817161776"},"Children":[{"Type":"NodeText","Data":"主要应用在高并发和实时请求的场景，例如：新浪微博"}]},{"ID":"20230817161777-kfrzvwp","Type":"NodeParagraph","Properties":{"id":"20230817161777-kfrzvwp","updated":"20230817161777"},"Children":[{"Type":"NodeText","Data":"hash：关注列表、粉丝列表"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"string：微博数，粉丝数(避免使用select count(*) from …)"}]},{"ID":"20230817161778-q86u4u8","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230817161778-q86u4u8","updated":"20230817161778"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"使用Redis存储数据"}]},{"ID":"20230817161779-skhzr5e","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161779-skhzr5e","updated":"20230817161779"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Redis安装部署"}]},{"ID":"20230817161780-31nwjmt","Type":"NodeParagraph","Properties":{"id":"20230817161780-31nwjmt","updated":"20230817161780"},"Children":[{"Type":"NodeText","Data":"下面来看一下redis的安装部署，首先下载redis"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"使用此链接下载，可以显示Redis目前所有的版本"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"http://download.redis.io/releases/"}]},{"ID":"20230817161781-oznwqce","Type":"NodeParagraph","Properties":{"id":"20230817161781-oznwqce","updated":"20230817161781"},"Children":[{"Type":"NodeText","Data":"我们选择目前比较稳定的5.0.9版本。"}]},{"ID":"20230817161782-b07u1yc","Type":"NodeParagraph","Properties":{"id":"20230817161782-b07u1yc","updated":"20230817161782"},"Children":[{"Type":"NodeText","Data":"将下载好的安装包上传到bigdata04机器的/data/soft目录下"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"1：解压"}]},{"ID":"20230817161783-ac5py3d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161783-ac5py3d","updated":"20230817161783"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 soft]# tar -zxvf redis-5.0.9.tar.gz\n代码块1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161784-cyea8f8","Type":"NodeParagraph","Properties":{"id":"20230817161784-cyea8f8","updated":"20230817161784"},"Children":[{"Type":"NodeText","Data":"2：编译+安装"}]},{"ID":"20230817161785-a44k249","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161785-a44k249","updated":"20230817161785"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 soft]# cd redis-5.0.9\n[root@bigdata04 redis-5.0.9]# make\n[root@bigdata04 redis-5.0.9]# make install\n代码块123\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161786-cte1o0c","Type":"NodeParagraph","Properties":{"id":"20230817161786-cte1o0c","updated":"20230817161786"},"Children":[{"Type":"NodeText","Data":"只要不报错就说明编译安装成功。"}]},{"ID":"20230817161787-o19tc4p","Type":"NodeBlockquote","Properties":{"id":"20230817161787-o19tc4p","updated":"20230817161787"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161788-ysmx58s","Type":"NodeParagraph","Properties":{"id":"20230817161788-ysmx58s","updated":"20230817161788"},"Children":[{"Type":"NodeText","Data":"注意：由于redis需要依赖于C语言环境，如果你安装的centos镜像是精简版，会缺失c语言的依赖，所以需要安装C语言环境才可以编译成功。"}]}]},{"ID":"20230817161789-3oh3fze","Type":"NodeParagraph","Properties":{"id":"20230817161789-3oh3fze","updated":"20230817161789"},"Children":[{"Type":"NodeText","Data":"我们在这使用的centos镜像是完整版，里面是包含C语言环境的，所以就不存在这个问题了。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"3：修改redis.conf配置文件"}]},{"ID":"20230817161790-y85qldx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161790-y85qldx","updated":"20230817161790"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# vi redis.conf\ndaemonize yes\nlogfile /data/soft/redis-5.0.9/log\nbind 127.0.0.1 192.168.182.103\n代码块1234\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161791-w1pyli3","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161791-w1pyli3","updated":"20230817161791"},"Children":[{"ID":"20230817161792-srdacor","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161792-srdacor","updated":"20230817161792"},"Children":[{"ID":"20230817161793-8t1pyl5","Type":"NodeParagraph","Properties":{"id":"20230817161793-8t1pyl5","updated":"20230817161793"},"Children":[{"Type":"NodeText","Data":"daemonize参数的值默认是no，表示在前台启动Redis，但是Redis是一个数据库，我们希望把它放到后台运行，所以将参数的值改为yes"}]}]},{"ID":"20230817161794-jtdn7k0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161794-jtdn7k0","updated":"20230817161794"},"Children":[{"ID":"20230817161795-gd3z6y5","Type":"NodeParagraph","Properties":{"id":"20230817161795-gd3z6y5","updated":"20230817161795"},"Children":[{"Type":"NodeText","Data":"logfile 参数的值默认为空，表示redis会将日志输出到/dev/null里面，也就是不保存了，建议在这设置一个日志路径记录redis的日志，便于后期排查问题。"}]}]},{"ID":"20230817161796-eyx0gsi","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161796-eyx0gsi","updated":"20230817161796"},"Children":[{"ID":"20230817161797-ugf5t8z","Type":"NodeParagraph","Properties":{"id":"20230817161797-ugf5t8z","updated":"20230817161797"},"Children":[{"Type":"NodeText","Data":"bind 参数可以绑定指定ip，这样就可以通过这里指定的ip来访问redis服务了，可以在后面指定当前机器的本地回环地址(127.0.0.1)和内网地址(192.168.182.103)，"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"指定本地回环地址是为了能够在本机自己连自己比较方便。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"指定内网地址是为了能够让公司局域网内的其它服务器也能连到这个redis"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"如果你这台机器有外网地址的话不建议在这配置，因为使用外网地址的话就不安全了，容易受到网络攻击。"}]}]}]},{"ID":"20230817161798-ivjqg1q","Type":"NodeParagraph","Properties":{"id":"20230817161798-ivjqg1q","updated":"20230817161798"},"Children":[{"Type":"NodeText","Data":"4：启动redis"}]},{"ID":"20230817161799-z8u97i6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161799-z8u97i6","updated":"20230817161799"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# redis-server redis.conf \n代码块1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161800-tm2qc0k","Type":"NodeParagraph","Properties":{"id":"20230817161800-tm2qc0k","updated":"20230817161800"},"Children":[{"Type":"NodeText","Data":"5：验证"}]},{"ID":"20230817161801-xnwnw4t","Type":"NodeBlockquote","Properties":{"id":"20230817161801-xnwnw4t","updated":"20230817161801"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161802-u1vydqe","Type":"NodeParagraph","Properties":{"id":"20230817161802-u1vydqe","updated":"20230817161802"},"Children":[{"Type":"NodeText","Data":"注意：redis不是java程序，所以使用jps命令查不到，需要使用ps命令查看redis的进程"}]}]},{"ID":"20230817161803-20u62th","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161803-20u62th","updated":"20230817161803"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# ps -ef|grep redis\nroot       5828      1  0 16:12 ?        00:00:00 redis-server 127.0.0.1:6379\n代码块12\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161804-dqpo1t1","Type":"NodeParagraph","Properties":{"id":"20230817161804-dqpo1t1","updated":"20230817161804"},"Children":[{"Type":"NodeText","Data":"6：连接redis数据库"}]},{"ID":"20230817161805-nutbx2x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161805-nutbx2x","updated":"20230817161805"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# redis-cli \n127.0.0.1:6379\u003e \n代码块12\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161806-sdq8zir","Type":"NodeBlockquote","Properties":{"id":"20230817161806-sdq8zir","updated":"20230817161806"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161807-0ruujfc","Type":"NodeParagraph","Properties":{"id":"20230817161807-0ruujfc","updated":"20230817161807"},"Children":[{"Type":"NodeText","Data":"注意：使用redis-cli默认可以连接本地的redis"}]}]},{"ID":"20230817161808-qj1xlae","Type":"NodeParagraph","Properties":{"id":"20230817161808-qj1xlae","updated":"20230817161808"},"Children":[{"Type":"NodeText","Data":"其实redis-cli后面省略了"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-h 127.0.0.1"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"-p 6379"}]},{"ID":"20230817161809-1auepn9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161809-1auepn9","updated":"20230817161809"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# redis-cli -h 127.0.0.1 -p 6379\n代码块1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161810-e3bgj1c","Type":"NodeParagraph","Properties":{"id":"20230817161810-e3bgj1c","updated":"20230817161810"},"Children":[{"Type":"NodeText","Data":"此时使用内网ip也能连接，这样其实我们就可以在其它安装有redis-cli客户端的机器上连接这个redis服务了。"}]},{"ID":"20230817161811-khyayci","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161811-khyayci","updated":"20230817161811"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# redis-cli -h 192.168.182.103 -p 6379\n192.168.182.103:6379\u003e \n代码块12\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161812-yq567g5","Type":"NodeParagraph","Properties":{"id":"20230817161812-yq567g5","updated":"20230817161812"},"Children":[{"Type":"NodeText","Data":"7：停止redis数据库"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"暴力一点的方式是使用kill命令直接杀进程"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"不过redis提供的有停止命令"}]},{"ID":"20230817161813-f323k1m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161813-f323k1m","updated":"20230817161813"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# redis-cli\n127.0.0.1:6379\u003e shutdown\nnot connected\u003e \n代码块123\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161814-d75dzbb","Type":"NodeParagraph","Properties":{"id":"20230817161814-d75dzbb","updated":"20230817161814"},"Children":[{"Type":"NodeText","Data":"或者这样停止也是可以的"}]},{"ID":"20230817161815-bgpe5j3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161815-bgpe5j3","updated":"20230817161815"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# redis-cli shutdown\n代码块1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161816-21v9ea8","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161816-21v9ea8","updated":"20230817161816"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Redis基础命令"}]},{"ID":"20230817161817-c9sn1ds","Type":"NodeParagraph","Properties":{"id":"20230817161817-c9sn1ds","updated":"20230817161817"},"Children":[{"Type":"NodeText","Data":"下面我们来看一下Redis中的基础命令"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"先启动redis服务，使用redis-cli客户端连到redis数据库里面"}]},{"ID":"20230817161818-43c9c7n","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161818-43c9c7n","updated":"20230817161818"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# redis-server redis.conf\n[root@bigdata04 redis-5.0.9]# redis-cli \n127.0.0.1:6379\u003e \n代码块123\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161819-qslho85","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161819-qslho85","updated":"20230817161819"},"Children":[{"ID":"20230817161820-tc9g49x","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161820-tc9g49x","updated":"20230817161820"},"Children":[{"ID":"20230817161821-94mrk4y","Type":"NodeParagraph","Properties":{"id":"20230817161821-94mrk4y","updated":"20230817161821"},"Children":[{"Type":"NodeText","Data":"获得符合规则的键：keys"}]}]}]},{"ID":"20230817161822-alqwcuh","Type":"NodeParagraph","Properties":{"id":"20230817161822-alqwcuh","updated":"20230817161822"},"Children":[{"Type":"NodeText","Data":"keys 后面可以指定正则表达式"}]},{"ID":"20230817161823-p1021kt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161823-p1021kt","updated":"20230817161823"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e keys *\n(empty list or set)\n127.0.0.1:6379\u003e set a 1\nOK\n127.0.0.1:6379\u003e keys *\n1)\"a\"\n127.0.0.1:6379\u003e keys a*\n1) \"a\"\n127.0.0.1:6379\u003e keys a+\n(empty list or set)\n代码块12345678910\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161824-embuopu","Type":"NodeBlockquote","Properties":{"id":"20230817161824-embuopu","updated":"20230817161824"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161825-mnnt4x3","Type":"NodeParagraph","Properties":{"id":"20230817161825-mnnt4x3","updated":"20230817161825"},"Children":[{"Type":"NodeText","Data":"注意：在生产环境下建议禁用keys命令，因为这个命令会查询过滤redis中的所有数据，可能会造成服务阻塞，影响redis执行效率。"}]}]},{"ID":"20230817161826-xen1m98","Type":"NodeParagraph","Properties":{"id":"20230817161826-xen1m98","updated":"20230817161826"},"Children":[{"Type":"NodeText","Data":"如果有类似的查询需求建议使用scan"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"scan命令用于迭代当前数据库中的key集合"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"它支持增量式迭代，每次执行只会返回少量元素，所以它可以用于生产环境，而不会出现像keys 命令那样可能会阻塞服务器的问题。"}]},{"ID":"20230817161827-yei3rkf","Type":"NodeParagraph","Properties":{"id":"20230817161827-yei3rkf","updated":"20230817161827"},"Children":[{"Type":"NodeText","Data":"SCAN命令是一个基于游标的迭代器。这意味着命令每次被调用都需要使用上一次调用返回的游标作为该次调用的游标参数，以此来延续之前的迭代过程"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"当SCAN命令的游标参数被设置为 0 时， 服务器将开始一次新的迭代， 而当服务器向用户返回值为 0 的游标时， 表示迭代已结束。"}]},{"ID":"20230817161828-82j1lpc","Type":"NodeParagraph","Properties":{"id":"20230817161828-82j1lpc","updated":"20230817161828"},"Children":[{"Type":"NodeText","Data":"向redis中初始化一批数据"}]},{"ID":"20230817161829-qnyytmm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161829-qnyytmm","updated":"20230817161829"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e set a1 1\nOK\n127.0.0.1:6379\u003e set a2 1\nOK\n127.0.0.1:6379\u003e set a3 1\nOK\n127.0.0.1:6379\u003e set a4 1\nOK\n127.0.0.1:6379\u003e set a5 1\nOK\n127.0.0.1:6379\u003e set a6 1\nOK\n127.0.0.1:6379\u003e set a7 1\nOK\n127.0.0.1:6379\u003e set a8 1\nOK\n127.0.0.1:6379\u003e set a9 1\nOK\n127.0.0.1:6379\u003e set a10 1\nOK\n代码块1234567891011121314151617181920\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161830-xjwtyxm","Type":"NodeParagraph","Properties":{"id":"20230817161830-xjwtyxm","updated":"20230817161830"},"Children":[{"Type":"NodeText","Data":"使用scan迭代数据，后面游标参数指定为0，表示从头开始迭代key"}]},{"ID":"20230817161831-7k3rugz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161831-7k3rugz","updated":"20230817161831"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e scan 0\n1) \"3\"\n2)  1) \"a9\"\n    2) \"a3\"\n    3) \"a1\"\n    4) \"a10\"\n    5) \"a8\"\n    6) \"a5\"\n    7) \"a4\"\n    8) \"a\"\n    9) \"a7\"\n   10) \"a6\"\n代码块123456789101112\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161832-plt60z4","Type":"NodeParagraph","Properties":{"id":"20230817161832-plt60z4","updated":"20230817161832"},"Children":[{"Type":"NodeText","Data":"SCAN 命令的返回值是一个包含两个元素的数组，"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"第一个元素是用于进行下一次迭代的新游标，"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"而第二个元素则是一个数组， 这个数组中包含了所有被迭代出来的元素。"}]},{"ID":"20230817161833-ff0gglc","Type":"NodeParagraph","Properties":{"id":"20230817161833-ff0gglc","updated":"20230817161833"},"Children":[{"Type":"NodeText","Data":"默认情况下scan返回10条数据"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"所以这样执行效果也是一样的"}]},{"ID":"20230817161834-btlk84q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161834-btlk84q","updated":"20230817161834"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e scan 0 count 10\n1) \"3\"\n2)  1) \"a9\"\n    2) \"a3\"\n    3) \"a1\"\n    4) \"a10\"\n    5) \"a8\"\n    6) \"a5\"\n    7) \"a4\"\n    8) \"a\"\n    9) \"a7\"\n   10) \"a6\"\n代码块123456789101112\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161835-wtw7ql8","Type":"NodeParagraph","Properties":{"id":"20230817161835-wtw7ql8","updated":"20230817161835"},"Children":[{"Type":"NodeText","Data":"scan命令此时返回的游标为3"}]},{"ID":"20230817161836-v76p1q6","Type":"NodeBlockquote","Properties":{"id":"20230817161836-v76p1q6","updated":"20230817161836"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161837-el0l9rp","Type":"NodeParagraph","Properties":{"id":"20230817161837-el0l9rp","updated":"20230817161837"},"Children":[{"Type":"NodeText","Data":"注意，游标的值并不等于返回的数据量。"}]}]},{"ID":"20230817161838-dns741u","Type":"NodeParagraph","Properties":{"id":"20230817161838-dns741u","updated":"20230817161838"},"Children":[{"Type":"NodeText","Data":"如果想要继续往下面迭代数据的话，下一次执行scan的时候需要指定之前返回的游标，redis会根据这个游标继续往下面迭代"}]},{"ID":"20230817161839-4ewuu48","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161839-4ewuu48","updated":"20230817161839"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e scan 3 count 10\n1) \"0\"\n2) 1) \"a2\"\n代码块123\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161840-xqdnq86","Type":"NodeParagraph","Properties":{"id":"20230817161840-xqdnq86","updated":"20230817161840"},"Children":[{"Type":"NodeText","Data":"这一次使用scan命令，返回的游标为0，表示迭代已经结束，整个redis中的key都被迭代完了。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"redis中一共有11个key，第一次使用scan 0获取到了10个key，第二次获取到了1个key，没有问题。"}]},{"ID":"20230817161841-2191v2j","Type":"NodeBlockquote","Properties":{"id":"20230817161841-2191v2j","updated":"20230817161841"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161842-lkv7wwc","Type":"NodeParagraph","Properties":{"id":"20230817161842-lkv7wwc","updated":"20230817161842"},"Children":[{"Type":"NodeText","Data":"注意：大家在下面练习的时候可能会发现你那边第一次返回的游标和我这边显示的不一样，那也很正常，因为你会发现你返回的这个数据集的顺序也是不一样的。"}]}]},{"ID":"20230817161843-vqin46u","Type":"NodeParagraph","Properties":{"id":"20230817161843-vqin46u","updated":"20230817161843"},"Children":[{"Type":"NodeText","Data":"所以，如果redis中有很多key，我们可以使用scan命令来迭代，一次迭代一部分，不至于造成阻塞，如果redis中的key比较少，那么使用keys * 也是可以的。"}]},{"ID":"20230817161844-83jmsvf","Type":"NodeParagraph","Properties":{"id":"20230817161844-83jmsvf","updated":"20230817161844"},"Children":[{"Type":"NodeText","Data":"如果想要在迭代key的时候对key进行过滤，可以在scan后面指定match参数，match后面可以指定正则表达式"}]},{"ID":"20230817161845-as1nh4x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161845-as1nh4x","updated":"20230817161845"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e scan 0 match a[1-5] count 10\n1) \"3\"\n2) 1) \"a3\"\n   2) \"a1\"\n   3) \"a5\"\n   4) \"a4\"\n代码块123456\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161846-7gz3yja","Type":"NodeParagraph","Properties":{"id":"20230817161846-7gz3yja","updated":"20230817161846"},"Children":[{"Type":"NodeText","Data":"此时实际返回的key的数量是4个，但是游标还是3，相当于还是迭代了10条数据，只不过不满足条件的没有返回而已。"}]},{"ID":"20230817161847-txb3e5r","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161847-txb3e5r","updated":"20230817161847"},"Children":[{"ID":"20230817161848-i3wsvv6","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161848-i3wsvv6","updated":"20230817161848"},"Children":[{"ID":"20230817161849-7vhap7v","Type":"NodeParagraph","Properties":{"id":"20230817161849-7vhap7v","updated":"20230817161849"},"Children":[{"Type":"NodeText","Data":"判断键是否存在：exists"}]}]}]},{"ID":"20230817161850-5p8szx8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161850-5p8szx8","updated":"20230817161850"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e exists a\n(integer) 1\n127.0.0.1:6379\u003e exists b\n(integer) 0\n代码块1234\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161851-vo2eumo","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161851-vo2eumo","updated":"20230817161851"},"Children":[{"ID":"20230817161852-ofdskrs","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161852-ofdskrs","updated":"20230817161852"},"Children":[{"ID":"20230817161853-mbvlkbk","Type":"NodeParagraph","Properties":{"id":"20230817161853-mbvlkbk","updated":"20230817161853"},"Children":[{"Type":"NodeText","Data":"删除键：del"}]}]}]},{"ID":"20230817161854-uz1sa53","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161854-uz1sa53","updated":"20230817161854"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e del a\n(integer) 1\n代码块12\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161855-mkc4dz8","Type":"NodeBlockquote","Properties":{"id":"20230817161855-mkc4dz8","updated":"20230817161855"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161856-xq4d7ig","Type":"NodeParagraph","Properties":{"id":"20230817161856-xq4d7ig","updated":"20230817161856"},"Children":[{"Type":"NodeText","Data":"注意：del也支持一次删除多个key"}]}]},{"ID":"20230817161857-okjyr76","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161857-okjyr76","updated":"20230817161857"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e del a1 a2\n(integer) 2\n代码块12\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161858-ecv2c6o","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161858-ecv2c6o","updated":"20230817161858"},"Children":[{"ID":"20230817161859-itdsa3o","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161859-itdsa3o","updated":"20230817161859"},"Children":[{"ID":"20230817161860-b2kqvxy","Type":"NodeParagraph","Properties":{"id":"20230817161860-b2kqvxy","updated":"20230817161860"},"Children":[{"Type":"NodeText","Data":"获得键值的类型：type"}]}]}]},{"ID":"20230817161861-bxqku6h","Type":"NodeParagraph","Properties":{"id":"20230817161861-bxqku6h","updated":"20230817161861"},"Children":[{"Type":"NodeText","Data":"返回值可能是这五种类型（string,hash,list,set,zset）"}]},{"ID":"20230817161862-kdjy0o7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161862-kdjy0o7","updated":"20230817161862"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e set a 1\nOK\n127.0.0.1:6379\u003e type a\nstring\n代码块1234\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161863-xc1z6ff","Type":"NodeParagraph","Properties":{"id":"20230817161863-xc1z6ff","updated":"20230817161863"},"Children":[{"Type":"NodeText","Data":"这个命令可以帮我们快速识别某一个key中存储的数据是什么类型的，因为针对存储了不同类型值的key，操作的命令是不一样的。"}]},{"ID":"20230817161864-kt8v0dh","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161864-kt8v0dh","updated":"20230817161864"},"Children":[{"ID":"20230817161865-tfi11si","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161865-tfi11si","updated":"20230817161865"},"Children":[{"ID":"20230817161866-63zzwem","Type":"NodeParagraph","Properties":{"id":"20230817161866-63zzwem","updated":"20230817161866"},"Children":[{"Type":"NodeText","Data":"帮助命令：help"}]}]}]},{"ID":"20230817161867-l49u4k2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161867-l49u4k2","updated":"20230817161867"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e help set\n  SET key value [EX seconds] [PX milliseconds] [NX|XX]\n  summary: Set the string value of a key\n  since: 1.0.0\n  group: string\n代码块12345\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161868-4pehd3c","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161868-4pehd3c","updated":"20230817161868"},"Children":[{"ID":"20230817161869-aj4h1y5","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161869-aj4h1y5","updated":"20230817161869"},"Children":[{"ID":"20230817161870-3fs1xi3","Type":"NodeParagraph","Properties":{"id":"20230817161870-3fs1xi3","updated":"20230817161870"},"Children":[{"Type":"NodeText","Data":"退出客户端：quit/exit"}]}]}]},{"ID":"20230817161871-ulsregf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161871-ulsregf","updated":"20230817161871"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e quit\n代码块1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161872-qpsqgnw","Type":"NodeParagraph","Properties":{"id":"20230817161872-qpsqgnw","updated":"20230817161872"},"Children":[{"Type":"NodeText","Data":"不过我还是习惯使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ctrl+c"},{"Type":"NodeText","Data":"退出redis-cli客户端"}]},{"ID":"20230817161873-gl0qayy","Type":"NodeParagraph","Properties":{"id":"20230817161873-gl0qayy","updated":"20230817161873"},"Children":[{"Type":"NodeText","Data":"最后有一点需要注意："}]},{"ID":"20230817161874-cseh597","Type":"NodeBlockquote","Properties":{"id":"20230817161874-cseh597","updated":"20230817161874"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161875-8v13kjk","Type":"NodeParagraph","Properties":{"id":"20230817161875-8v13kjk","updated":"20230817161875"},"Children":[{"Type":"NodeText","Data":"Redis的命令不区分大小写，但是key的名称需要区分大小写！"}]}]},{"ID":"20230817161876-mulruvn","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230817161876-mulruvn","updated":"20230817161876"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Redis多数据库特性"}]},{"ID":"20230817161877-okjr8o1","Type":"NodeParagraph","Properties":{"id":"20230817161877-okjr8o1","updated":"20230817161877"},"Children":[{"Type":"NodeText","Data":"Redis默认支持 16 个数据库，通过"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"databases"},{"Type":"NodeText","Data":"参数控制的"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"这个参数在redis.conf配置文件中"}]},{"ID":"20230817161878-z3njnmp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161878-z3njnmp","updated":"20230817161878"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata04 redis-5.0.9]# cat redis.conf | grep databases\n# Set the number of databases. The default database is DB 0, you can select\n# dbid is a number between 0 and 'databases'-1\ndatabases 16\n# Compress string objects using LZF when dump .rdb databases?\n代码块12345\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161879-0qgio66","Type":"NodeParagraph","Properties":{"id":"20230817161879-0qgio66","updated":"20230817161879"},"Children":[{"Type":"NodeText","Data":"每个数据库对外都是以一个从0开始的递增数字命名，不支持自定义"}]},{"ID":"20230817161880-9xetqci","Type":"NodeParagraph","Properties":{"id":"20230817161880-9xetqci","updated":"20230817161880"},"Children":[{"Type":"NodeText","Data":"Redis默认选择的是0号数据库，可以通过 select 命令切换"}]},{"ID":"20230817161881-5d8inif","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161881-5d8inif","updated":"20230817161881"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e select 0\nOK\n127.0.0.1:6379\u003e select 1\nOK\n127.0.0.1:6379[1]\u003e select 2\nOK\n127.0.0.1:6379[2]\u003e select 15\nOK\n127.0.0.1:6379[15]\u003e select 16\n(error) ERR DB index is out of range\n代码块12345678910\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161882-pfucfai","Type":"NodeParagraph","Properties":{"id":"20230817161882-pfucfai","updated":"20230817161882"},"Children":[{"Type":"NodeText","Data":"一般在工作中会使用2~3个数据库，可以根据业务类型来分库，不同业务的数据存到不同的库里面"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"还有一种用法是，一个库作为测试库，一个库作为正式库"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"如果没有特殊需求，一般使用0号数据库就可以了，这个库使用起来比较方便，默认就是0号库，不需要使用select切换。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"具体在工作中怎么用都行，只要理解它的特性就可以了。"}]},{"ID":"20230817161883-caq41f2","Type":"NodeBlockquote","Properties":{"id":"20230817161883-caq41f2","updated":"20230817161883"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161884-v4l2ntj","Type":"NodeParagraph","Properties":{"id":"20230817161884-v4l2ntj","updated":"20230817161884"},"Children":[{"Type":"NodeText","Data":"但是有一点需要注意：多个数据库之间并不是完全隔离的，如果使用flushall命令，则会清空redis中所有数据库内的数据。"}]}]},{"ID":"20230817161885-xx6afp8","Type":"NodeParagraph","Properties":{"id":"20230817161885-xx6afp8","updated":"20230817161885"},"Children":[{"Type":"NodeText","Data":"并且我们在redis中使用多个库，并不能提高redis的存储能力，因为默认这16个库共用redis的内存存储空间，如果想要提高redis的存储能力，需要给我们的服务器增加内存才可以。"}]},{"ID":"20230817161886-tw9sa43","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161886-tw9sa43","updated":"20230817161886"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379[15]\u003e set x 1\nOK\n127.0.0.1:6379[15]\u003e flushall\nOK\n127.0.0.1:6379[15]\u003e keys *\n(empty list or set)\n127.0.0.1:6379[15]\u003e select 0\nOK\n127.0.0.1:6379\u003e keys *\n(empty list or set)\n代码块12345678910\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161887-bzzjlyk","Type":"NodeParagraph","Properties":{"id":"20230817161887-bzzjlyk","updated":"20230817161887"},"Children":[{"Type":"NodeText","Data":"如果只想清空当前数据库中的数据，可以使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"flushdb"}]},{"ID":"20230817161888-tpklp7m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161888-tpklp7m","updated":"20230817161888"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"127.0.0.1:6379\u003e select 15\nOK\n127.0.0.1:6379[15]\u003e set a 1\nOK\n127.0.0.1:6379[15]\u003e keys *\n1) \"a\"\n127.0.0.1:6379[15]\u003e flushdb\nOK\n代码块预览复制12345678\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161889-rubo46z","Type":"NodeParagraph","Properties":{"id":"20230817161889-rubo46z","updated":"20230817161889"}}]}