{"ID":"20230817161955-mau3eqj","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161955-mau3eqj","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230817161955-mau3eqj\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230817161956-m0zt6ng\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230817161969-epl5lgj\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230817161956-m0zt6ng\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"sqoop导入导出","updated":"20230817161955"},"Children":[{"ID":"20230817161956-m0zt6ng","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230817161956-m0zt6ng","updated":"20230817161956"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"sqoop导入"}]},{"ID":"20230817161957-oov9gbo","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161957-oov9gbo","updated":"20230817161957"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"全表导入："}]},{"ID":"20230817161958-db0muv5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161958-db0muv5","updated":"20230817161958"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"//全表导入\nsqoop import \\ 注意每行的换行符要加\n--connect jdbc:mysql://192.168.93.1:3306/db_pyy?serverTimezone=UTC \\\n--username root \\\n--password pyy \\\n--table user \\\n--target-dir /out1 \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by '\\t'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161959-pd6axgg","Type":"NodeParagraph","Properties":{"id":"20230817161959-pd6axgg","updated":"20230817161959"},"Children":[{"Type":"NodeText","Data":"注意num-mappers 的数量默认为4 如果表没有设定主键的话程序会报错 有三种解决方法"}]},{"ID":"20230817161960-4vwqp11","Type":"NodeParagraph","Properties":{"id":"20230817161960-4vwqp11","updated":"20230817161960"},"Children":[{"Type":"NodeText","Data":"1、设置主键 2、设置数量为1 3、使用-split-by 后面跟上一个数字类型的列 会根据这个列分task"}]},{"ID":"20230817161961-6sjvumb","Type":"NodeParagraph","Properties":{"id":"20230817161961-6sjvumb","updated":"20230817161961"},"Children":[{"Type":"NodeText","Data":"查询导入"}]},{"ID":"20230817161962-7xndnuj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161962-7xndnuj","updated":"20230817161962"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"//查询导入\nsqoop import \\\n--connect jdbc:mysql://192.168.93.1:3306/db_pyy?serverTimezone=UTC \\\n--username root \\\n--password pyy \\\n--target-dir /out2 \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by '\\t' \\\n--query 'select id,name from user where id\u003e1 and $CONDITIONS;'//$CONDITIONS不能少\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161963-uva0s14","Type":"NodeParagraph","Properties":{"id":"20230817161963-uva0s14","updated":"20230817161963"},"Children":[{"Type":"NodeText","Data":"//--table与 --query不能同时存在"}]},{"ID":"20230817161964-s3l2wfr","Type":"NodeParagraph","Properties":{"id":"20230817161964-s3l2wfr","updated":"20230817161964"},"Children":[{"Type":"NodeText","Data":"那如果表中有空值 sqoop默认是返回字符串的null 若想让其被hive 所使用的话 建议使用\\N指定"}]},{"ID":"20230817161965-xvt0wpu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161965-xvt0wpu","updated":"20230817161965"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"sqoop import \\\n--connect jdbc:mysql://192.168.93.1:3306/db_pyy?serverTimezone=UTC \\\n--username root \\\n--password pyy \\\n--table user \\\n--target-dir /out2 \\\n--delete-target-dir \\\n--num-mappers 1 \\\n--fields-terminated-by '\\t' \\\n--null-string '\\\\N' \\\n--null-non-string '\\\\N'  \n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161966-5vulk03","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161966-5vulk03","updated":"20230817161966"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"全表导出"}]},{"ID":"20230817161967-aygsymv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161967-aygsymv","updated":"20230817161967"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"sqoop export \\\n--connect jdbc:mysql://192.168.93.1:3306/db_pyy?serverTimezone=UTC \\\n--username root \\\n--password pyy \\\n--table user2 \\\n--export-dir /out1 \\\n--input-fields-terminated-by '\\t'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230817161968-lcsdoo1","Type":"NodeParagraph","Properties":{"id":"20230817161968-lcsdoo1","updated":"20230817161968"},"Children":[{"Type":"NodeText","Data":"导出时修改"}]},{"ID":"20230817161969-epl5lgj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230817161969-epl5lgj","updated":"20230817161969"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"\nsqoop export \\\n--connect jdbc:mysql://192.168.93.1:3306/db_pyy?serverTimezone=UTC \\\n--username root \\\n--password pyy \\\n--table user2 \\\n--export-dir /out2 \\\n--input-fields-terminated-by '\\t' \\\n--update-key id \\ //这里是指定的主键 一定要创建表 sqoop默认不会帮我们创建表 还要设定主键\n--update-mode allowinsert\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}