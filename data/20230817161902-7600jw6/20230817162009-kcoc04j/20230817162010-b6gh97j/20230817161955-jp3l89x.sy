{"ID":"20230817161955-jp3l89x","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161955-jp3l89x","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230817161955-jp3l89x\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230817161956-lgzbg7o\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230817161969-hgt6i6m\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230817161956-lgzbg7o\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"技术选型","updated":"20230817161955"},"Children":[{"ID":"20230817161956-lgzbg7o","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230817161956-lgzbg7o","updated":"20230817161956"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"技术选型"}]},{"ID":"20230817161957-x1yjpv8","Type":"NodeParagraph","Properties":{"id":"20230817161957-x1yjpv8","updated":"20230817161957"},"Children":[{"Type":"NodeText","Data":"数据采集："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Flume"},{"Type":"NodeText","Data":"、logstash、filebeat、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Sqoop"}]},{"ID":"20230817161958-wq6u492","Type":"NodeParagraph","Properties":{"id":"20230817161958-wq6u492","updated":"20230817161958"},"Children":[{"Type":"NodeText","Data":"sqoop主要是将mysql的数据导入导出"}]},{"ID":"20230817161959-eca3own","Type":"NodeParagraph","Properties":{"id":"20230817161959-eca3own","updated":"20230817161959"},"Children":[{"Type":"NodeText","Data":"数据存储："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"HDFS"},{"Type":"NodeText","Data":"、Mysql"}]},{"ID":"20230817161960-ymy2o0r","Type":"NodeParagraph","Properties":{"id":"20230817161960-ymy2o0r","updated":"20230817161960"},"Children":[{"Type":"NodeText","Data":"数据计算："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"hive"},{"Type":"NodeText","Data":" 、spark"}]},{"ID":"20230817161961-a0totan","Type":"NodeParagraph","Properties":{"id":"20230817161961-a0totan","updated":"20230817161961"},"Children":[{"Type":"NodeText","Data":"数据可视化：Hue、"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"zeppelin"},{"Type":"NodeText","Data":"、echarts"}]},{"ID":"20230817161962-5gayvn5","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230817161962-5gayvn5","updated":"20230817161962"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"整体架构设计："}]},{"ID":"20230817161963-k8jvuqw","Type":"NodeParagraph","Properties":{"id":"20230817161963-k8jvuqw","updated":"20230817161963"},"Children":[{"Type":"NodeText","Data":"技术选型搞定后，下面我们来看一下整体的架构设计"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"图片描述","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://img.mukewang.com/wiki/5f5b1bb9096c631112680459.jpg","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230817161964-q1qhqaj","Type":"NodeParagraph","Properties":{"id":"20230817161964-q1qhqaj","updated":"20230817161964"},"Children":[{"Type":"NodeText","Data":"我们采集的数据主要分为服务端数据和客户端数据"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"什么是服务端数据，就是网站上的商品详情数据以及你下的订单信息之类的数据，这些数据都是在服务端存储着的，一般是存储在类似于MySQL之类的关系型数据库中，这些数据对事务性要求比较严格，所以会存放在关系型数据库中。"}]},{"ID":"20230817161965-jb64824","Type":"NodeParagraph","Properties":{"id":"20230817161965-jb64824","updated":"20230817161965"},"Children":[{"Type":"NodeText","Data":"什么是客户端数据呢，就是用户在网站或者app上的一些滑动、点击、浏览、停留时间之类的用户行为数据，这些数据会通过埋点直接上报，这些其实就是一些日志类型的数据了，这种类型的数据没有事务性要求，并且对数据的完整性要求也不是太高，就算丢一些数据，对整体结果影响也不大。"}]},{"ID":"20230817161966-bbxi3pi","Type":"NodeParagraph","Properties":{"id":"20230817161966-bbxi3pi","updated":"20230817161966"},"Children":[{"Type":"NodeText","Data":"针对服务端数据，在采集的时候，主要是通过Sqoop进行采集，按天采集，每天凌晨的时候把昨天的数据采集过来，存储到HDFS上面。"}]},{"ID":"20230817161967-ln7ur71","Type":"NodeParagraph","Properties":{"id":"20230817161967-ln7ur71","updated":"20230817161967"},"Children":[{"Type":"NodeText","Data":"针对客户端数据，会通过埋点上报到日志接收服务器中，其实这里面就是一个Http服务，埋点上报就是调用了这个Http服务，把日志数据传输过来，日志接收服务收到数据之后，会把数据落盘，存储到本地，记录为日志文件，然后通过Flume进行采集，将数据采集到HDFS上面，按天分目录存储。"}]},{"ID":"20230817161968-l2u3nmj","Type":"NodeParagraph","Properties":{"id":"20230817161968-l2u3nmj","updated":"20230817161968"},"Children":[{"Type":"NodeText","Data":"服务端数据和客户端数据都进入到HDFS之后，就需要对数据进行ETL，构建数据仓库了。"}]},{"ID":"20230817161969-hgt6i6m","Type":"NodeParagraph","Properties":{"id":"20230817161969-hgt6i6m","updated":"20230817161969"},"Children":[{"Type":"NodeText","Data":"数据仓库构建好了以后可以选择把一些需要报表展现的数据导出到MySQL中，最终在页面进行展现。"}]}]}