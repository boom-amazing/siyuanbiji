{"ID":"20230817161850-1ltljhv","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161850-1ltljhv","title":"数据仓库","updated":"20230817161850"},"Children":[{"ID":"20230817161851-8lv6gx1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230817161851-8lv6gx1","updated":"20230817161851"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"数据仓库"}]},{"ID":"20230817161852-v9d2m6s","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161852-v9d2m6s","updated":"20230817161852"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"由来"}]},{"ID":"20230817161853-pd5nqzb","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161853-pd5nqzb","updated":"20230817161853"},"Children":[{"ID":"20230817161854-6rv2fnv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161854-6rv2fnv","updated":"20230817161854"},"Children":[{"ID":"20230817161855-srl7r7x","Type":"NodeParagraph","Properties":{"id":"20230817161855-srl7r7x","updated":"20230817161855"},"Children":[{"Type":"NodeText","Data":"通过构建企业级数据仓库 对企业中所有数据进行整合 为企业各部门提供统一的 规范的数据出口"}]}]},{"ID":"20230817161856-5xz0b7c","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161856-5xz0b7c","updated":"20230817161856"},"Children":[{"ID":"20230817161857-9puwn0w","Type":"NodeParagraph","Properties":{"id":"20230817161857-9puwn0w","updated":"20230817161857"},"Children":[{"Type":"NodeText","Data":"一个完善合理的数据仓库对于企业的整体数据管理意义重大 数据仓库是整个大数据领域重要的一环 更高层次的数据挖掘 数据分析都是基于此进行的"}]}]}]},{"ID":"20230817161858-gjz99nf","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161858-gjz99nf","updated":"20230817161858"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"一、数据仓库基础知识"}]},{"ID":"20230817161859-65dq3em","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161859-65dq3em","updated":"20230817161859"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"1、什么是数据仓库以及和传统数据库的一些区别(重点掌握)"}]},{"ID":"20230817161860-u3pt20y","Type":"NodeParagraph","Properties":{"id":"20230817161860-u3pt20y","updated":"20230817161860"},"Children":[{"Type":"NodeText","Data":"官方定义：数据仓库是一个面向"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"主题的、集成的、稳定的且随时间变化"},{"Type":"NodeText","Data":"的数据集合，用于支持管理人员的决策"}]},{"ID":"20230817161861-u21g6or","Type":"NodeParagraph","Properties":{"id":"20230817161861-u21g6or","updated":"20230817161861"},"Children":[{"Type":"NodeText","Data":"注意它里面的这几个特性："}]},{"ID":"20230817161862-r8u42c1","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161862-r8u42c1","updated":"20230817161862"},"Children":[{"ID":"20230817161863-ylfm3zl","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161863-ylfm3zl","updated":"20230817161863"},"Children":[{"ID":"20230817161864-4yl28b8","Type":"NodeParagraph","Properties":{"id":"20230817161864-4yl28b8","updated":"20230817161864"},"Children":[{"Type":"NodeText","Data":"面向主题"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"主题就是类型的意思。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"传统数据库主要是为应用程序进行数据处理，未必会按照同一主题存储数据；"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"数据仓库侧重于数据分析工作，是按照主题存储的。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"这一点，类似于传统农贸市场与超市的区别"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"市场里面，针对一个商贩，他卖的萝卜、白菜这些蔬菜以及水果会在一个摊位上；、"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"而超市里，蔬菜和水果是分开的，并且在蔬菜里面也会进行分类，不同类型的蔬菜放到不同的地方。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"也就是说，农贸市场里的菜(数据)是按照商贩(应用程序)去归类(存储)的，而超市里面则是按"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"照蔬菜、水果的类型(同主题)归类的。"}]}]},{"ID":"20230817161865-5bl55g9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161865-5bl55g9","updated":"20230817161865"},"Children":[{"ID":"20230817161866-pawtmho","Type":"NodeParagraph","Properties":{"id":"20230817161866-pawtmho","updated":"20230817161866"},"Children":[{"Type":"NodeText","Data":"集成"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"传统数据库通常与某些特定的应用相关，数据库之间相互独立。而数据仓库中的数据是在对原有分散的数据库数据抽取、清理的基础上经过系统加工、汇总和整理得到的，必须消除源数据中的不一致性，以保证数据仓库内的信息是关于整个企业的一致的全局信息。"}]}]},{"ID":"20230817161867-78njix5","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161867-78njix5","updated":"20230817161867"},"Children":[{"ID":"20230817161868-kebkezc","Type":"NodeParagraph","Properties":{"id":"20230817161868-kebkezc","updated":"20230817161868"},"Children":[{"Type":"NodeText","Data":"稳定"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"稳定说的是相对稳定"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"传统数据库中的数据通常实时更新，数据根据需要及时发生变化。数据仓库的数据主要供企业决策分析使用，所涉及的数据操作主要是数据查询，一旦某个数据进入数据仓库以后，一般情况下将被长期保留，也就是数据仓库中一般有大量的查询操作，但修改和删除操作很少，通常只需要定期的加载、刷新。"}]}]},{"ID":"20230817161869-l0zz1he","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161869-l0zz1he","updated":"20230817161869"},"Children":[{"ID":"20230817161870-0ntp8t5","Type":"NodeParagraph","Properties":{"id":"20230817161870-0ntp8t5","updated":"20230817161870"},"Children":[{"Type":"NodeText","Data":"变化"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"这里的变化说的是反映历史变化"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"传统数据库主要关心当前某一个时间段内的数据，而数据仓库中的数据通常包含历史信息，它里面记录了企业从过去某一时间点(如开始应用数据仓库的时间)到目前的各个阶段的信息，通过这些信息，可以对企业的发展历程和未来趋势做出分析和预测。"}]}]}]},{"ID":"20230817161871-3om2rbv","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161871-3om2rbv","updated":"20230817161871"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2、事实表、维度表"}]},{"ID":"20230817161872-y9zlpc6","Type":"NodeParagraph","Properties":{"id":"20230817161872-y9zlpc6","updated":"20230817161872"},"Children":[{"Type":"NodeText","Data":"首先我们来看两个名词：事实表和维度表"}]},{"ID":"20230817161873-4g2zlbc","Type":"NodeParagraph","Properties":{"id":"20230817161873-4g2zlbc","updated":"20230817161873"},"Children":[{"Type":"NodeText","Data":"什么是事实表呢？"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"事实表是指保存了大量业务数据的表，或者说保存了一些真实的行为数据的表"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"例如：销售商品所产生的订单数据"}]},{"ID":"20230817161874-u04d8bi","Type":"NodeParagraph","Properties":{"id":"20230817161874-u04d8bi","updated":"20230817161874"},"Children":[{"Type":"NodeText","Data":"什么是维度表呢？"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"首先说一下什么是维度"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"维度其实指的就是一个对象的属性或者特征，例如：时间维度，地理区域维度，年龄维度"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"这是维度的概念。"}]},{"ID":"20230817161875-bik8sbe","Type":"NodeParagraph","Properties":{"id":"20230817161875-bik8sbe","updated":"20230817161875"},"Children":[{"Type":"NodeText","Data":"维度表里面存放的其实就是刚才我们所说的那些维度相关的信息。"}]},{"ID":"20230817161876-hnoogry","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161876-hnoogry","updated":"20230817161876"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3、数据库三范式"}]},{"ID":"20230817161877-h57zff6","Type":"NodeParagraph","Properties":{"id":"20230817161877-h57zff6","updated":"20230817161877"},"Children":[{"Type":"NodeText","Data":"1NF：数据库表的每一列都是不可分割的原子数据项 就是信息不能再拆分"}]},{"ID":"20230817161878-u01d3y3","Type":"NodeParagraph","Properties":{"id":"20230817161878-u01d3y3","updated":"20230817161878"},"Children":[{"Type":"NodeText","Data":"2NF：表示在1NF的基础上，数据库表中每一列都和主键相关，不能只和主键的某一部分相关(针对联合主键而言)"}]},{"ID":"20230817161879-sbkuyjc","Type":"NodeParagraph","Properties":{"id":"20230817161879-sbkuyjc","updated":"20230817161879"},"Children":[{"Type":"NodeText","Data":"也就是说一个表中只能保存一种类型的数据，不可以把多种类型数据保存在同一张表中"}]},{"ID":"20230817161880-i6c8e2c","Type":"NodeParagraph","Properties":{"id":"20230817161880-i6c8e2c","updated":"20230817161880"},"Children":[{"Type":"NodeText","Data":"3NF：在2nf的基础上 表中的某些字段信息，如果能够被推导出来，就不应该单独的设计一个字段来存放(能尽量外键join就用外键join)。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"很多时候，我们为了满足第三范式往往会把一张表拆分成多张表"}]},{"ID":"20230817161881-0ak19e8","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161881-0ak19e8","updated":"20230817161881"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"4、数据仓库建模方式"}]},{"ID":"20230817161882-s1zh833","Type":"NodeParagraph","Properties":{"id":"20230817161882-s1zh833","updated":"20230817161882"},"Children":[{"Type":"NodeText","Data":"数据仓库建模可以使用多种方式"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"1：ER实体模型，这种模型其实就是满足数据库第三范式的模型，这就是刚才我们为什么要分析数据库中的三范式了。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"ER模型是数据库设计的理论基础，当前几乎所有的OLTP系统设计都采用ER模型建模的方式"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"Bill Inom提出的数仓理论，推荐采用ER关系模型进行建模，不过这种方式在实际工作中不推荐使用。"}]},{"ID":"20230817161883-jsyl0n4","Type":"NodeParagraph","Properties":{"id":"20230817161883-jsyl0n4","updated":"20230817161883"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"2：维度建模模型"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"Ralph Kimball提出的数仓理论中，提出了维度建模，将数据仓库中的表划分为事实表和维度表。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"基于事实表和维度表进行维度建模。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"维度建模通常又分为星型模型和雪花模型，一会我们详细分析这两种维度建模模型。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"维度建模是我们在构建数据仓库中常用的方式。"}]},{"ID":"20230817161884-mbh9tbv","Type":"NodeParagraph","Properties":{"id":"20230817161884-mbh9tbv","updated":"20230817161884"},"Children":[{"Type":"NodeText","Data":"3：Data Vault模型"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"Data Vault是在ER模型的基础上衍生而来，模型设计的初衷是有效的组织基础数据层，使之易扩展、灵活的应对业务的变化，同时强调历史性、可追溯性和原子性，不要求对数据进行过度的一致性处理；并非针对分析场景所设计。"}]},{"ID":"20230817161885-7b59tpk","Type":"NodeParagraph","Properties":{"id":"20230817161885-7b59tpk","updated":"20230817161885"},"Children":[{"Type":"NodeText","Data":"3：Anchor模型"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"Anchor是对Data Vault模型做了更近一步的规范化处理，初衷是为了设计高度可扩展的模型，核心思想是所有的扩张只添加而不修改，于是设计出的模型基本变成了k-v结构的模型。"}]},{"ID":"20230817161886-0jn3e3s","Type":"NodeParagraph","Properties":{"id":"20230817161886-0jn3e3s","updated":"20230817161886"},"Children":[{"Type":"NodeText","Data":"Data Vault模型和Anchor模型，这两种模型大家知道就行了，很少使用，如果大家感兴趣的话可以到网上查阅相关资料了解一下。"}]},{"ID":"20230817161887-wq5duc2","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161887-wq5duc2","updated":"20230817161887"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"5、维度建模模式(重点掌握)"}]},{"ID":"20230817161888-p4amf1v","Type":"NodeParagraph","Properties":{"id":"20230817161888-p4amf1v","updated":"20230817161888"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"星型模型和雪花模型"}]},{"ID":"20230817161889-tkbalb4","Type":"NodeParagraph","Properties":{"id":"20230817161889-tkbalb4","updated":"20230817161889"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"星型模型和雪花模型主要区别就是对维度表的拆分，"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"对于雪花模型，维度表的设计更加规范，一般符合3NF；"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"而星型模型，一般采用降维的操作，利用冗余来避免模型过于复杂，提高易用性和分析效率"}]},{"ID":"20230817161890-bmq5k17","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161890-bmq5k17","updated":"20230817161890"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"星型模型 VS 雪花模型性能分析"}]},{"ID":"20230817161891-2rynitf","Type":"NodeParagraph","Properties":{"id":"20230817161891-2rynitf","updated":"20230817161891"},"Children":[{"Type":"NodeText","Data":"冗余：雪花模型符合业务逻辑设计，采用3NF设计，有效降低数据冗余；星型模型的维度表设计不符合3NF，反规范化，维度表之间不会直接相关，牺牲部分存储空间"}]},{"ID":"20230817161892-75x6i3c","Type":"NodeParagraph","Properties":{"id":"20230817161892-75x6i3c","updated":"20230817161892"},"Children":[{"Type":"NodeText","Data":"性能：雪花模型由于存在维度间的关联，采用3NF降低冗余，通常在使用过程中，需要连接更多的维度表，导致性能偏低；星型模型违反三范式，采用降维的操作将维度整合，以存储空间为代价有效降低维度表连接数，性能比雪花模型高 实际工作中我们多采用星型模型"}]},{"ID":"20230817161893-tzvufcy","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161893-tzvufcy","updated":"20230817161893"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"二、数据仓库分层设计(重点掌握)"}]},{"ID":"20230817161894-17t7ref","Type":"NodeParagraph","Properties":{"id":"20230817161894-17t7ref","updated":"20230817161894"},"Children":[{"Type":"NodeText","Data":"那针对我们这里的数据仓库该如何分层呢？"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"图片描述","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://img.mukewang.com/wiki/5f5b1a5009f0e49910780629.jpg","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230817161895-3sk4xrp","Type":"NodeParagraph","Properties":{"id":"20230817161895-3sk4xrp","updated":"20230817161895"},"Children":[{"Type":"NodeText","Data":"数据仓库一般会分为4层"}]},{"ID":"20230817161896-qjuyqu0","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161896-qjuyqu0","updated":"20230817161896"},"Children":[{"ID":"20230817161897-0uq46go","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161897-0uq46go","updated":"20230817161897"},"Children":[{"ID":"20230817161898-sv4aeop","Type":"NodeParagraph","Properties":{"id":"20230817161898-sv4aeop","updated":"20230817161898"},"Children":[{"Type":"NodeText","Data":"ODS层：原始数据层，数据源中的数据，采集过来之后，原样保存。"}]}]},{"ID":"20230817161899-s8vwx0f","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230817161899-s8vwx0f","updated":"20230817161899"},"Children":[{"ID":"20230817161900-u5rijvi","Type":"NodeParagraph","Properties":{"id":"20230817161900-u5rijvi","updated":"20230817161900"},"Children":[{"Type":"NodeText","Data":"DWD层：明细数据层：这一层是对ODS层的数据进行清洗，解决一些数据质量问题和数据的完整度问题。"}]}]},{"ID":"20230817161901-ojdwjux","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20230817161901-ojdwjux","updated":"20230817161901"},"Children":[{"ID":"20230817161902-juxqz99","Type":"NodeParagraph","Properties":{"id":"20230817161902-juxqz99","updated":"20230817161902"},"Children":[{"Type":"NodeText","Data":"DWS层：这一层是对DWD层的数据进行轻度聚合汇总，生成一系列的中间表，提升公共指标的复用性，减少重复加工，并且构建出来一些宽表，用于提供后续的业务查询。"}]}]},{"ID":"20230817161903-aaindyo","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20230817161903-aaindyo","updated":"20230817161903"},"Children":[{"ID":"20230817161904-annehy6","Type":"NodeParagraph","Properties":{"id":"20230817161904-annehy6","updated":"20230817161904"},"Children":[{"Type":"NodeText","Data":"APP层：根据业务需要，由前面三层的数据统计而出的结果，可以直接提供查询展现，一般会把APP层的数据导出到MySQL中供线上系统使用，提供报表展示、数据监控及其它功能。也有公司把这层称为DM层。虽然名字不一样，但是性质是一样的。"}]}]}]},{"ID":"20230817161905-zm0kajh","Type":"NodeBlockquote","Properties":{"id":"20230817161905-zm0kajh","updated":"20230817161905"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230817161906-5mwsi45","Type":"NodeParagraph","Properties":{"id":"20230817161906-5mwsi45","updated":"20230817161906"},"Children":[{"Type":"NodeText","Data":"注意：针对DWD层在对数据进行清洗的时候，一般需要遵循以下原则"}]}]},{"ID":"20230817161907-tvv5jn2","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161907-tvv5jn2","updated":"20230817161907"},"Children":[{"ID":"20230817161908-xtainlr","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161908-xtainlr","updated":"20230817161908"},"Children":[{"ID":"20230817161909-dii8mqa","Type":"NodeParagraph","Properties":{"id":"20230817161909-dii8mqa","updated":"20230817161909"},"Children":[{"Type":"NodeText","Data":"数据唯一性校验(通过数据采集工具采集的数据会存在重复的可能性)"}]}]},{"ID":"20230817161910-6ckgz18","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230817161910-6ckgz18","updated":"20230817161910"},"Children":[{"ID":"20230817161911-0cwikv4","Type":"NodeParagraph","Properties":{"id":"20230817161911-0cwikv4","updated":"20230817161911"},"Children":[{"Type":"NodeText","Data":"数据完整性校验(采集的数据中可能会出现缺失字段的情况，针对缺失字段的数据建议直接丢掉，如果可以确定是哪一列缺失也可以进行补全，可以用同一列上的前一个数据来填补或者同一列上的后一个数据来填补)"}]}]},{"ID":"20230817161912-pog8687","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20230817161912-pog8687","updated":"20230817161912"},"Children":[{"ID":"20230817161913-221kd5n","Type":"NodeParagraph","Properties":{"id":"20230817161913-221kd5n","updated":"20230817161913"},"Children":[{"Type":"NodeText","Data":"数据合法性校验-1(针对数字列中出现了null、或者-之类的异常值，全部替换为一个特殊值，例如0或者-1，这个需要根据具体的业务场景而定)"}]}]},{"ID":"20230817161914-dgmxc8x","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20230817161914-dgmxc8x","updated":"20230817161914"},"Children":[{"ID":"20230817161915-il9v6jh","Type":"NodeParagraph","Properties":{"id":"20230817161915-il9v6jh","updated":"20230817161915"},"Children":[{"Type":"NodeText","Data":"数据合法性校验-2(针对部分字段需要校验数据的合法性，例如：用户的年龄，不能是负数)"}]}]}]},{"ID":"20230817161916-wg9m976","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161916-wg9m976","updated":"20230817161916"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"数据仓库命名规范"}]},{"ID":"20230817161917-mauf777","Type":"NodeParagraph","Properties":{"id":"20230817161917-mauf777","updated":"20230817161917"},"Children":[{"Type":"NodeText","Data":"我们在使用Hive实现数据仓库的时候该如何体现这些层次？"}]},{"ID":"20230817161918-bfzldp5","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161918-bfzldp5","updated":"20230817161918"},"Children":[{"ID":"20230817161919-warz6zk","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20230817161919-warz6zk","updated":"20230817161919"},"Children":[{"ID":"20230817161920-1ferfjw","Type":"NodeParagraph","Properties":{"id":"20230817161920-1ferfjw","updated":"20230817161920"},"Children":[{"Type":"NodeText","Data":"针对数据仓库的每一层都在Hive中创建一个数据库，数据库的命名包含每一层的标识符"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"例如：针对ODS层可以在Hive中创建数据库 ods_mall，把同一层的表都放到一个数据库里面，方便管理"}]}]},{"ID":"20230817161921-7w2epvp","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20230817161921-7w2epvp","updated":"20230817161921"},"Children":[{"ID":"20230817161922-iqffgzn","Type":"NodeParagraph","Properties":{"id":"20230817161922-iqffgzn","updated":"20230817161922"},"Children":[{"Type":"NodeText","Data":"针对每一层中的表名，在创建的时候可以使用每一层的标识符开头"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"例如：针对ODS层，创建的表名为：ods_user，这样方便后期使用，只要看到表名就可以知道这个表示哪一层的了。"}]}]}]},{"ID":"20230817161923-n7v14w5","Type":"NodeParagraph","Properties":{"id":"20230817161923-n7v14w5","updated":"20230817161923"},"Children":[{"Type":"NodeText","Data":"针对一些临时表，我们可以在对应的分层中创建表名的时候，以_tmp结尾。"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"针对一些备份的表，可以在表名后面添加_bak。"}]},{"ID":"20230817161924-isiimgs","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161924-isiimgs","updated":"20230817161924"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"三、典型的数据仓库系统架构"}]},{"ID":"20230817161925-k6jh3zn","Type":"NodeParagraph","Properties":{"id":"20230817161925-k6jh3zn","updated":"20230817161925"},"Children":[{"Type":"NodeText","Data":"下图是一个典型的企业数据仓库系统，通常包含数据源、数据存储与管理、数据的"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"访问三个部分"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"图片描述","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://img.mukewang.com/wiki/5f5b1a890900c26e16630884.jpg","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230817161926-0diacg4","Type":"NodeParagraph","Properties":{"id":"20230817161926-0diacg4","updated":"20230817161926"},"Children":[{"Type":"NodeText","Data":"数据源部分负责采集各种日志数据、业务数据，以及一些文档资料，将我们需要的这些数据加载到Hive中，构建数据仓库"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"数据仓库构建好了以后可以为很多服务提供数据支撑"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"例如：做数据报表，做OLAP数据分析，以及在做用户画像和数据挖掘的时候都是需要使用到数据仓库中的数据的"}]},{"ID":"20230817161927-ho30sfm","Type":"NodeParagraph","Properties":{"id":"20230817161927-ho30sfm","updated":"20230817161927"},"Children":[{"Type":"NodeText","Data":"在实际工作中，数据仓库分为离线数据仓库和实时数据仓库"}]},{"ID":"20230817161928-ndnrmml","Type":"NodeParagraph","Properties":{"id":"20230817161928-ndnrmml","updated":"20230817161928"},"Children":[{"Type":"NodeText","Data":"通过刚才对一个典型的企业数据仓库系统架构进行分析，我们发现，想要开发一个完整的数据仓库系统，至少需要以下这几个功能模块"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"1：数据采集平台，这个模块主要负责采集各种数据源的数据"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"2：数据仓库，这个模块负责数据存储和管理"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"3：数据报表，这个模块其实就是数据可视化展示了"}]},{"ID":"20230817161929-dfk2wt2","Type":"NodeParagraph","Properties":{"id":"20230817161929-dfk2wt2","updated":"20230817161929"},"Children":[{"Type":"NodeText","Data":"通过这三个模块可以实现数据采集，构建数据仓库，最后基于数据仓库中的数据实现上层应用，体现数据仓库的价值。"}]}]}