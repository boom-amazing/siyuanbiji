{"ID":"20230817161709-6sdzriz","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161709-6sdzriz","title":"Http","updated":"20230817161709"},"Children":[{"ID":"20230817161710-0phaf4x","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230817161710-0phaf4x","updated":"20230817161710"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Http"}]},{"ID":"20230817161711-qav6g97","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161711-qav6g97","updated":"20230817161711"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Http的基本知识"}]},{"ID":"20230817161712-5uu9uef","Type":"NodeParagraph","Properties":{"id":"20230817161712-5uu9uef","updated":"20230817161712"},"Children":[{"Type":"NodeText","Data":"1、概念：字面意思是超文本传输协议 更有技术含量的解释是"}]},{"ID":"20230817161713-nf4iwru","Type":"NodeParagraph","Properties":{"id":"20230817161713-nf4iwru","updated":"20230817161713"},"Children":[{"Type":"NodeText","Data":"Http是一个在计算机世界里专门在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"两点"},{"Type":"NodeText","Data":"之间"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"传输"},{"Type":"NodeText","Data":"文字、图片、视频等"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"超文本数据"},{"Type":"NodeText","Data":"的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"约定和规范"}]},{"ID":"20230817161714-e2p4zf0","Type":"NodeParagraph","Properties":{"id":"20230817161714-e2p4zf0","updated":"20230817161714"},"Children":[{"Type":"NodeText","Data":"2、常见的http状态码"}]},{"ID":"20230817161715-9mneqc2","Type":"NodeParagraph","Properties":{"id":"20230817161715-9mneqc2","updated":"20230817161715"},"Children":[{"Type":"NodeText","Data":"1xx 提示信息表示目前是协议处理的中间状态 还有后续操作"}]},{"ID":"20230817161716-lpfu60d","Type":"NodeParagraph","Properties":{"id":"20230817161716-lpfu60d","updated":"20230817161716"},"Children":[{"Type":"NodeText","Data":"2xx 成功 提交已经收到并被处理"}]},{"ID":"20230817161717-ekhd26e","Type":"NodeParagraph","Properties":{"id":"20230817161717-ekhd26e","updated":"20230817161717"},"Children":[{"Type":"NodeText","Data":"3xx 重定向 资源位置发生变动 需要客户端重新发送请求"}]},{"ID":"20230817161718-6290i2n","Type":"NodeParagraph","Properties":{"id":"20230817161718-6290i2n","updated":"20230817161718"},"Children":[{"Type":"NodeText","Data":"4xx 客户端出错 请求的报文有误 服务器无法处理"}]},{"ID":"20230817161719-umyrel0","Type":"NodeParagraph","Properties":{"id":"20230817161719-umyrel0","updated":"20230817161719"},"Children":[{"Type":"NodeText","Data":"5xx服务器出错 服务器在处理请求时内部发生了错误"}]},{"ID":"20230817161720-w94mu7l","Type":"NodeParagraph","Properties":{"id":"20230817161720-w94mu7l","updated":"20230817161720"},"Children":[{"Type":"NodeText","Data":"301 表示永久重定向"}]},{"ID":"20230817161721-xepb9h2","Type":"NodeParagraph","Properties":{"id":"20230817161721-xepb9h2","updated":"20230817161721"},"Children":[{"Type":"NodeText","Data":"302表示临时重定向"}]},{"ID":"20230817161722-cs3jv0q","Type":"NodeParagraph","Properties":{"id":"20230817161722-cs3jv0q","updated":"20230817161722"},"Children":[{"Type":"NodeText","Data":"303 表示缓存重定向"}]},{"ID":"20230817161723-nxin0wz","Type":"NodeParagraph","Properties":{"id":"20230817161723-nxin0wz","updated":"20230817161723"},"Children":[{"Type":"NodeText","Data":"400表示客户端有错 但这是个笼统的错误"}]},{"ID":"20230817161724-3yn6tns","Type":"NodeParagraph","Properties":{"id":"20230817161724-3yn6tns","updated":"20230817161724"},"Children":[{"Type":"NodeText","Data":"403 表示服务器禁止访问资源 并不是客户端有错"}]},{"ID":"20230817161725-qqnn7c0","Type":"NodeParagraph","Properties":{"id":"20230817161725-qqnn7c0","updated":"20230817161725"},"Children":[{"Type":"NodeText","Data":"404 not found 表示请求的资源在服务器上不存在  所以无法提供给客户端"}]},{"ID":"20230817161726-uvrmsz3","Type":"NodeParagraph","Properties":{"id":"20230817161726-uvrmsz3","updated":"20230817161726"},"Children":[{"Type":"NodeText","Data":"500 与400一样 笼统的表示服务器出错"}]},{"ID":"20230817161727-utmoafj","Type":"NodeParagraph","Properties":{"id":"20230817161727-utmoafj","updated":"20230817161727"},"Children":[{"Type":"NodeText","Data":"501 表示服务器还未开业 客户端的请求暂时不支持"}]},{"ID":"20230817161728-55nrzdj","Type":"NodeParagraph","Properties":{"id":"20230817161728-55nrzdj","updated":"20230817161728"},"Children":[{"Type":"NodeText","Data":"502 bad gateway 通常是服务器作为网关返回的错误码 表示服务器自身工作正常 但访问后端程序出现了错误"}]},{"ID":"20230817161729-g52p8i0","Type":"NodeParagraph","Properties":{"id":"20230817161729-g52p8i0","updated":"20230817161729"},"Children":[{"Type":"NodeText","Data":"503 主要是表示服务器很忙"}]},{"ID":"20230817161730-2cev4x3","Type":"NodeParagraph","Properties":{"id":"20230817161730-2cev4x3","updated":"20230817161730"},"Children":[{"Type":"NodeText","Data":"3、http常见的字段"}]},{"ID":"20230817161731-zf4xa8j","Type":"NodeParagraph","Properties":{"id":"20230817161731-zf4xa8j","updated":"20230817161731"},"Children":[{"Type":"NodeText","Data":"host 客户端发送请求时 用于指定服务器的域名"}]},{"ID":"20230817161732-ftqsayk","Type":"NodeParagraph","Properties":{"id":"20230817161732-ftqsayk","updated":"20230817161732"},"Children":[{"Type":"NodeText","Data":"content-length 服务器在返回数据时  表示本次回应的数据长度"}]},{"ID":"20230817161733-b3fllz6","Type":"NodeParagraph","Properties":{"id":"20230817161733-b3fllz6","updated":"20230817161733"},"Children":[{"Type":"NodeText","Data":"connection 常用于建立持久化连接"}]},{"ID":"20230817161734-svxqf56","Type":"NodeParagraph","Properties":{"id":"20230817161734-svxqf56","updated":"20230817161734"},"Children":[{"Type":"NodeText","Data":"content-type 数据格式"}]},{"ID":"20230817161735-sesfl9k","Type":"NodeParagraph","Properties":{"id":"20230817161735-sesfl9k","updated":"20230817161735"},"Children":[{"Type":"NodeText","Data":"content-encoding 数据压缩方式"}]},{"ID":"20230817161736-z0hl1dp","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161736-z0hl1dp","updated":"20230817161736"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Get与Post"}]},{"ID":"20230817161737-rhret5i","Type":"NodeParagraph","Properties":{"id":"20230817161737-rhret5i","updated":"20230817161737"},"Children":[{"Type":"NodeText","Data":"1、get与post的区别"}]},{"ID":"20230817161738-ep9b1q7","Type":"NodeParagraph","Properties":{"id":"20230817161738-ep9b1q7","updated":"20230817161738"},"Children":[{"Type":"NodeText","Data":"get方法的含义是从服务器获取资源 这个资源可以使静态的文本、网页、图片视频等"}]},{"ID":"20230817161739-y4p4m63","Type":"NodeParagraph","Properties":{"id":"20230817161739-y4p4m63","updated":"20230817161739"},"Children":[{"Type":"NodeText","Data":"而post方法相反 他向URI指定的资源提交数据 数据就放在报文的body里"}]},{"ID":"20230817161740-henlbtb","Type":"NodeParagraph","Properties":{"id":"20230817161740-henlbtb","updated":"20230817161740"},"Children":[{"Type":"NodeText","Data":"2、get与post方法都是安全和幂等的吗"}]},{"ID":"20230817161741-u04c8tt","Type":"NodeParagraph","Properties":{"id":"20230817161741-u04c8tt","updated":"20230817161741"},"Children":[{"Type":"NodeText","Data":"安全的概念：在http协议里所谓的安全就是不会"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"破坏"},{"Type":"NodeText","Data":"服务器的资源"}]},{"ID":"20230817161742-o5p6250","Type":"NodeParagraph","Properties":{"id":"20230817161742-o5p6250","updated":"20230817161742"},"Children":[{"Type":"NodeText","Data":"幂等的概念：意思是执行了多次相同的操作 结果都是"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"相同"},{"Type":"NodeText","Data":"的"}]},{"ID":"20230817161743-xdra00z","Type":"NodeParagraph","Properties":{"id":"20230817161743-xdra00z","updated":"20230817161743"},"Children":[{"Type":"NodeText","Data":"get操作是安全且幂等的 因为他只读 无论操作多少次 服务器上的数据都是安全的 且每次的结果是相同的"}]},{"ID":"20230817161744-b00qqvx","Type":"NodeParagraph","Properties":{"id":"20230817161744-b00qqvx","updated":"20230817161744"},"Children":[{"Type":"NodeText","Data":"post因为是新增或者提交数据 会修改服务器上的资源 所以是不安全的 且多次提交数据就会创建多个资源 所以不是幂等的"}]},{"ID":"20230817161745-5byy4jd","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161745-5byy4jd","updated":"20230817161745"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Http(1、1)的特性"}]},{"ID":"20230817161746-g75un9x","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161746-g75un9x","updated":"20230817161746"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"1、http的优缺点"}]},{"ID":"20230817161747-wsqhgc7","Type":"NodeParagraph","Properties":{"id":"20230817161747-wsqhgc7","updated":"20230817161747"},"Children":[{"Type":"NodeText","Data":"优点：1、简单 格式是header+body 头部信息也是key-value 易于理解"}]},{"ID":"20230817161748-1i3u0wr","Type":"NodeParagraph","Properties":{"id":"20230817161748-1i3u0wr","updated":"20230817161748"},"Children":[{"Type":"NodeText","Data":"2、灵活和易于拓展"}]},{"ID":"20230817161749-841utz3","Type":"NodeParagraph","Properties":{"id":"20230817161749-841utz3","updated":"20230817161749"},"Children":[{"Type":"NodeText","Data":"3、用用广泛和跨平台"}]},{"ID":"20230817161750-bpzwcif","Type":"NodeParagraph","Properties":{"id":"20230817161750-bpzwcif","updated":"20230817161750"},"Children":[{"Type":"NodeText","Data":"缺点：1、无状态双刃剑  好处是服务器不会去记忆http的状态 所以不需要额外的资源来记录状态信息"}]},{"ID":"20230817161751-8mksaj1","Type":"NodeParagraph","Properties":{"id":"20230817161751-8mksaj1","updated":"20230817161751"},"Children":[{"Type":"NodeText","Data":"坏处是 服务器没有记忆能力 那么在有关联性的操作时 会非常麻烦"}]},{"ID":"20230817161752-tng4gdj","Type":"NodeParagraph","Properties":{"id":"20230817161752-tng4gdj","updated":"20230817161752"},"Children":[{"Type":"NodeText","Data":"2、不安全"}]},{"ID":"20230817161753-nzjgfu8","Type":"NodeParagraph","Properties":{"id":"20230817161753-nzjgfu8","updated":"20230817161753"},"Children":[{"Type":"NodeText","Data":"1）通信使用明文传输 内容可能被窃听"}]},{"ID":"20230817161754-vbu0n3q","Type":"NodeParagraph","Properties":{"id":"20230817161754-vbu0n3q","updated":"20230817161754"},"Children":[{"Type":"NodeText","Data":"2）不检验内容的完整性 内容可能找到篡改"}]},{"ID":"20230817161755-m6yz9l6","Type":"NodeParagraph","Properties":{"id":"20230817161755-m6yz9l6","updated":"20230817161755"},"Children":[{"Type":"NodeText","Data":"3） 不会验证对方身份 因此有可能访问到假的网站"}]},{"ID":"20230817161756-u4s8e3n","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161756-u4s8e3n","updated":"20230817161756"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2、性能"}]},{"ID":"20230817161757-f8ie78r","Type":"NodeParagraph","Properties":{"id":"20230817161757-f8ie78r","updated":"20230817161757"},"Children":[{"Type":"NodeText","Data":"http协议是基于tcp/ip 并且使用了请求-应答通信模式"}]},{"ID":"20230817161758-jpqj2cq","Type":"NodeParagraph","Properties":{"id":"20230817161758-jpqj2cq","updated":"20230817161758"},"Children":[{"Type":"NodeText","Data":"1、http1.1相对于http1.0引入了长连接"}]},{"ID":"20230817161759-zs6is6t","Type":"NodeParagraph","Properties":{"id":"20230817161759-zs6is6t","updated":"20230817161759"},"Children":[{"Type":"NodeText","Data":"2、引入了管道网络传输 即在同一个tcp连接里 客户端可以发送多个请求 只要第一个发送出去 就不必等待其回来 就可以发送第二个请求 可以"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"减少整体的响应时间"},{"Type":"NodeText","Data":" 但缺点就在于可能会导致对头堵塞 即在一个请求队列中 如果第一个请求因为某种原因堵塞时 后面的所有请求都会被堵塞"}]},{"ID":"20230817161760-9t40vfi","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161760-9t40vfi","updated":"20230817161760"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"HTTP与HTTPs"}]},{"ID":"20230817161761-dsxuiv1","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161761-dsxuiv1","updated":"20230817161761"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"http与https的区别"}]},{"ID":"20230817161762-yc0d3ib","Type":"NodeParagraph","Properties":{"id":"20230817161762-yc0d3ib","updated":"20230817161762"},"Children":[{"Type":"NodeText","Data":"1、http是明文传输的 存在安全风险 https则是解决了http不安全的缺陷 其在tcp与http之间引入了SSL/TLS安全协议 使得报文可以加密传输"}]},{"ID":"20230817161763-dva4icx","Type":"NodeParagraph","Properties":{"id":"20230817161763-dva4icx","updated":"20230817161763"},"Children":[{"Type":"NodeText","Data":"2、https建立连接只需要在tcp三次握手后即可进行http的报文传输 而https在建立tcp连接后 还需要建立ssl/tls连接"}]},{"ID":"20230817161764-c4pu4g6","Type":"NodeParagraph","Properties":{"id":"20230817161764-c4pu4g6","updated":"20230817161764"},"Children":[{"Type":"NodeText","Data":"3、http的端口是80 https的端口是443"}]},{"ID":"20230817161765-lwp7ojo","Type":"NodeParagraph","Properties":{"id":"20230817161765-lwp7ojo","updated":"20230817161765"},"Children":[{"Type":"NodeText","Data":"4、https还要向ca申请数字证书 来保证服务器的身份是可信的"}]},{"ID":"20230817161766-w7515oi","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161766-w7515oi","updated":"20230817161766"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"https解决了http哪些问题"}]},{"ID":"20230817161767-vq409v6","Type":"NodeParagraph","Properties":{"id":"20230817161767-vq409v6","updated":"20230817161767"},"Children":[{"Type":"NodeText","Data":"由于http是明文传输 所以http可能存在窃听、被篡改、服务器被冒充这三个风险"}]},{"ID":"20230817161768-fzhav87","Type":"NodeParagraph","Properties":{"id":"20230817161768-fzhav87","updated":"20230817161768"},"Children":[{"Type":"NodeText","Data":"https在http与tcp引入了ssl/tls协议"}]},{"ID":"20230817161769-pnri768","Type":"NodeParagraph","Properties":{"id":"20230817161769-pnri768","updated":"20230817161769"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"对交互的信息进行混合加密 来解决被窃听的风险"}]},{"ID":"20230817161770-bxdp920","Type":"NodeParagraph","Properties":{"id":"20230817161770-bxdp920","updated":"20230817161770"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"通过摘要算法来实现完整性 它能够让数据生成独一无二的指纹来确保数据的完整性"}]},{"ID":"20230817161771-n47m9ls","Type":"NodeParagraph","Properties":{"id":"20230817161771-n47m9ls","updated":"20230817161771"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"将服务器的公钥放在了数字证书中解决了被冒充的风险"}]},{"ID":"20230817161772-h6gw5ud","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161772-h6gw5ud","updated":"20230817161772"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Https是如何建立连接的 期间交互了什么"}]},{"ID":"20230817161773-5pcab2a","Type":"NodeParagraph","Properties":{"id":"20230817161773-5pcab2a","updated":"20230817161773"},"Children":[{"Type":"NodeText","Data":"ssl/tls协议的基本流程："}]},{"ID":"20230817161774-cchdpq6","Type":"NodeParagraph","Properties":{"id":"20230817161774-cchdpq6","updated":"20230817161774"},"Children":[{"Type":"NodeText","Data":"1、客户端向服务器索要并且验证服务器的公钥"}]},{"ID":"20230817161775-bwtlztu","Type":"NodeParagraph","Properties":{"id":"20230817161775-bwtlztu","updated":"20230817161775"},"Children":[{"Type":"NodeText","Data":"2、双方协商产生回话秘钥"}]},{"ID":"20230817161776-na4xszf","Type":"NodeParagraph","Properties":{"id":"20230817161776-na4xszf","updated":"20230817161776"},"Children":[{"Type":"NodeText","Data":"3、双方用回话秘钥通信"}]},{"ID":"20230817161777-5dyhix5","Type":"NodeParagraph","Properties":{"id":"20230817161777-5dyhix5","updated":"20230817161777"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"详细流程："}]},{"ID":"20230817161778-t8rhs6h","Type":"NodeParagraph","Properties":{"id":"20230817161778-t8rhs6h","updated":"20230817161778"},"Children":[{"Type":"NodeText","Data":"1、clienthello"}]},{"ID":"20230817161779-0bt95ny","Type":"NodeParagraph","Properties":{"id":"20230817161779-0bt95ny","updated":"20230817161779"},"Children":[{"Type":"NodeText","Data":"首先，客户端会向服务器发送请求加密信息 在这一步 客户端向服务器发送以下信息"}]},{"ID":"20230817161780-4dl2s5o","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161780-4dl2s5o","updated":"20230817161780"},"Children":[{"ID":"20230817161781-z2syja0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161781-z2syja0","updated":"20230817161781"},"Children":[{"ID":"20230817161782-ocbangy","Type":"NodeParagraph","Properties":{"id":"20230817161782-ocbangy","updated":"20230817161782"},"Children":[{"Type":"NodeText","Data":"客户端支持的ssl/tls的版本号"}]}]},{"ID":"20230817161783-zfdreus","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161783-zfdreus","updated":"20230817161783"},"Children":[{"ID":"20230817161784-49sgewb","Type":"NodeParagraph","Properties":{"id":"20230817161784-49sgewb","updated":"20230817161784"},"Children":[{"Type":"NodeText","Data":"客户端生产的随机数 用于后续产生回话秘钥"}]}]},{"ID":"20230817161785-euop8ce","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161785-euop8ce","updated":"20230817161785"},"Children":[{"ID":"20230817161786-yfiyn0f","Type":"NodeParagraph","Properties":{"id":"20230817161786-yfiyn0f","updated":"20230817161786"},"Children":[{"Type":"NodeText","Data":"客户端支持的密码套件列表 如rsa算法"}]}]}]},{"ID":"20230817161787-0h2gan9","Type":"NodeParagraph","Properties":{"id":"20230817161787-0h2gan9","updated":"20230817161787"},"Children":[{"Type":"NodeText","Data":"2、severhello"}]},{"ID":"20230817161788-lxsw2n2","Type":"NodeParagraph","Properties":{"id":"20230817161788-lxsw2n2","updated":"20230817161788"},"Children":[{"Type":"NodeText","Data":"服务器接收到客户端请求时 像客户端发出相应"}]},{"ID":"20230817161789-96mvw0r","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161789-96mvw0r","updated":"20230817161789"},"Children":[{"ID":"20230817161790-ex1vmwc","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161790-ex1vmwc","updated":"20230817161790"},"Children":[{"ID":"20230817161791-tpvp99o","Type":"NodeParagraph","Properties":{"id":"20230817161791-tpvp99o","updated":"20230817161791"},"Children":[{"Type":"NodeText","Data":"确认版本号"}]}]},{"ID":"20230817161792-cpvu6d9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161792-cpvu6d9","updated":"20230817161792"},"Children":[{"ID":"20230817161793-9vgt8h1","Type":"NodeParagraph","Properties":{"id":"20230817161793-9vgt8h1","updated":"20230817161793"},"Children":[{"Type":"NodeText","Data":"服务器生产的随机数"}]}]},{"ID":"20230817161794-r2ygk53","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161794-r2ygk53","updated":"20230817161794"},"Children":[{"ID":"20230817161795-bffn906","Type":"NodeParagraph","Properties":{"id":"20230817161795-bffn906","updated":"20230817161795"},"Children":[{"Type":"NodeText","Data":"确认密码套件"}]}]},{"ID":"20230817161796-jxgnwfm","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161796-jxgnwfm","updated":"20230817161796"},"Children":[{"ID":"20230817161797-qpweptr","Type":"NodeParagraph","Properties":{"id":"20230817161797-qpweptr","updated":"20230817161797"},"Children":[{"Type":"NodeText","Data":"服务端的数字证书"}]}]}]},{"ID":"20230817161798-kpsiq1d","Type":"NodeParagraph","Properties":{"id":"20230817161798-kpsiq1d","updated":"20230817161798"},"Children":[{"Type":"NodeText","Data":"3、客户端回应"}]},{"ID":"20230817161799-us54gsn","Type":"NodeParagraph","Properties":{"id":"20230817161799-us54gsn","updated":"20230817161799"},"Children":[{"Type":"NodeText","Data":"客户端在收到服务器回应后 首先通过浏览器或者操作系统中的ca公钥 确认服务器数字证书的真实性"}]},{"ID":"20230817161800-n1jb3zt","Type":"NodeParagraph","Properties":{"id":"20230817161800-n1jb3zt","updated":"20230817161800"},"Children":[{"Type":"NodeText","Data":"如果证书没有问题 会从数字证书中取出公钥 然后使用它加密报文 向服务器发送一下信息："}]},{"ID":"20230817161801-dm6ythn","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161801-dm6ythn","updated":"20230817161801"},"Children":[{"ID":"20230817161802-rg76ros","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161802-rg76ros","updated":"20230817161802"},"Children":[{"ID":"20230817161803-xo1knlw","Type":"NodeParagraph","Properties":{"id":"20230817161803-xo1knlw","updated":"20230817161803"},"Children":[{"Type":"NodeText","Data":"一个随机数 该随机数会被公钥加密"}]}]},{"ID":"20230817161804-8gy4tfw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161804-8gy4tfw","updated":"20230817161804"},"Children":[{"ID":"20230817161805-wdday8b","Type":"NodeParagraph","Properties":{"id":"20230817161805-wdday8b","updated":"20230817161805"},"Children":[{"Type":"NodeText","Data":"加密通信算法改变通知 表示随后的信息将使用回话秘钥进行同喜"}]}]},{"ID":"20230817161806-j7osgim","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161806-j7osgim","updated":"20230817161806"},"Children":[{"ID":"20230817161807-pchn7wc","Type":"NodeParagraph","Properties":{"id":"20230817161807-pchn7wc","updated":"20230817161807"},"Children":[{"Type":"NodeText","Data":"客户端握手阶段结束 客户端会将之前所有的信息做一个摘要 以供服务器校验"}]}]}]},{"ID":"20230817161808-4oq6086","Type":"NodeParagraph","Properties":{"id":"20230817161808-4oq6086","updated":"20230817161808"},"Children":[{"Type":"NodeText","Data":"至此 服务器和客户端就拥有了三个随机数 然后他们会通过双方协商的加密算法各自生成本次通信回话秘钥"}]},{"ID":"20230817161809-lmff5v4","Type":"NodeParagraph","Properties":{"id":"20230817161809-lmff5v4","updated":"20230817161809"},"Children":[{"Type":"NodeText","Data":"4、服务器最后的回应"}]},{"ID":"20230817161810-che9zvg","Type":"NodeParagraph","Properties":{"id":"20230817161810-che9zvg","updated":"20230817161810"},"Children":[{"Type":"NodeText","Data":"服务器在收到第三个随机数后 通过协商的加密算法 计算出本次的会话秘钥 然后向客户端发送最后的信息"}]},{"ID":"20230817161811-a3gq4aa","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161811-a3gq4aa","updated":"20230817161811"},"Children":[{"ID":"20230817161812-y2ps1nw","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161812-y2ps1nw","updated":"20230817161812"},"Children":[{"ID":"20230817161813-a5g3ybp","Type":"NodeParagraph","Properties":{"id":"20230817161813-a5g3ybp","updated":"20230817161813"},"Children":[{"Type":"NodeText","Data":"加密通信算法改变 表示随后的信息使用会话秘钥加密通信"}]}]},{"ID":"20230817161814-oqar9o6","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161814-oqar9o6","updated":"20230817161814"},"Children":[{"ID":"20230817161815-0su1i5r","Type":"NodeParagraph","Properties":{"id":"20230817161815-0su1i5r","updated":"20230817161815"},"Children":[{"Type":"NodeText","Data":"服务器握手阶段结束"}]}]}]},{"ID":"20230817161816-ysxpopn","Type":"NodeParagraph","Properties":{"id":"20230817161816-ysxpopn","updated":"20230817161816"},"Children":[{"Type":"NodeText","Data":"到此整个ssl/tsl握手阶段全部结束 接着客户端和服务器进入加密通信 使用普通的http 协议通信 只不过用会话秘钥加密内容"}]},{"ID":"20230817161817-y9lk2w2","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161817-y9lk2w2","updated":"20230817161817"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Http1.1 HTTP2 Http3的演变"}]},{"ID":"20230817161818-uft7etx","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161818-uft7etx","updated":"20230817161818"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"1、http1.1相比于http1.0提高了什么性能"}]},{"ID":"20230817161819-kc2r2mi","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161819-kc2r2mi","updated":"20230817161819"},"Children":[{"ID":"20230817161820-4tknwtm","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161820-4tknwtm","updated":"20230817161820"},"Children":[{"ID":"20230817161821-rsxmkz3","Type":"NodeParagraph","Properties":{"id":"20230817161821-rsxmkz3","updated":"20230817161821"},"Children":[{"Type":"NodeText","Data":"使⽤ TCP ⻓连接的⽅式改善了 HTTP/1.0 短连接造成的性能开销。"}]}]},{"ID":"20230817161822-xkprpkj","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161822-xkprpkj","updated":"20230817161822"},"Children":[{"ID":"20230817161823-bljjtdy","Type":"NodeParagraph","Properties":{"id":"20230817161823-bljjtdy","updated":"20230817161823"},"Children":[{"Type":"NodeText","Data":"⽀持管道（pipeline）⽹络传输，只要第⼀个请求发出去了，不必等其回来，就可以发第⼆个请求出去，可以"}]}]},{"ID":"20230817161824-wenkggt","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161824-wenkggt","updated":"20230817161824"},"Children":[{"ID":"20230817161825-xwavk4p","Type":"NodeParagraph","Properties":{"id":"20230817161825-xwavk4p","updated":"20230817161825"},"Children":[{"Type":"NodeText","Data":"减少整体的响应时间。"}]}]}]},{"ID":"20230817161826-gbet3ut","Type":"NodeParagraph","Properties":{"id":"20230817161826-gbet3ut","updated":"20230817161826"},"Children":[{"Type":"NodeText","Data":"但 HTTP/1.1 还是有性能瓶颈："}]},{"ID":"20230817161827-zpugjn9","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161827-zpugjn9","updated":"20230817161827"},"Children":[{"ID":"20230817161828-490fgvn","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161828-490fgvn","updated":"20230817161828"},"Children":[{"ID":"20230817161829-t9t7szw","Type":"NodeParagraph","Properties":{"id":"20230817161829-t9t7szw","updated":"20230817161829"},"Children":[{"Type":"NodeText","Data":"请求 / 响应头部（Header）未经压缩就发送，⾸部信息越多延迟越⼤。只能压缩 Body 的部分；"}]}]},{"ID":"20230817161830-q5lgfbu","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161830-q5lgfbu","updated":"20230817161830"},"Children":[{"ID":"20230817161831-j6sva8a","Type":"NodeParagraph","Properties":{"id":"20230817161831-j6sva8a","updated":"20230817161831"},"Children":[{"Type":"NodeText","Data":"发送冗⻓的⾸部。每次互相发送相同的⾸部造成的浪费较多；"}]}]},{"ID":"20230817161832-dzrib4f","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161832-dzrib4f","updated":"20230817161832"},"Children":[{"ID":"20230817161833-2nbg871","Type":"NodeParagraph","Properties":{"id":"20230817161833-2nbg871","updated":"20230817161833"},"Children":[{"Type":"NodeText","Data":"服务器是按请求的顺序响应的，如果服务器响应慢，会招致客户端⼀直请求不到数据，也就是队头阻塞；"}]}]},{"ID":"20230817161834-8ml6nsv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161834-8ml6nsv","updated":"20230817161834"},"Children":[{"ID":"20230817161835-ti69tug","Type":"NodeParagraph","Properties":{"id":"20230817161835-ti69tug","updated":"20230817161835"},"Children":[{"Type":"NodeText","Data":"没有请求优先级控制；"}]}]},{"ID":"20230817161836-yqvkzam","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161836-yqvkzam","updated":"20230817161836"},"Children":[{"ID":"20230817161837-qsv7cz6","Type":"NodeParagraph","Properties":{"id":"20230817161837-qsv7cz6","updated":"20230817161837"},"Children":[{"Type":"NodeText","Data":"请求只能从客户端开始，服务器只能被动响应"}]}]}]},{"ID":"20230817161838-lr5d8rg","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161838-lr5d8rg","updated":"20230817161838"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"2、http2相比于http1.1做了哪些优化"}]},{"ID":"20230817161839-tb5vsty","Type":"NodeParagraph","Properties":{"id":"20230817161839-tb5vsty","updated":"20230817161839"},"Children":[{"Type":"NodeText","Data":"HTTP/2 协议是基于 HTTPS 的，所以 HTTP/2 的安全性也是有保障的。"}]},{"ID":"20230817161840-2tsj8io","Type":"NodeParagraph","Properties":{"id":"20230817161840-2tsj8io","updated":"20230817161840"},"Children":[{"Type":"NodeText","Data":"那 HTTP/2 相⽐ HTTP/1.1 性能上的改进："}]},{"ID":"20230817161841-r71g81p","Type":"NodeParagraph","Properties":{"id":"20230817161841-r71g81p","updated":"20230817161841"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"1."},{"Type":"NodeText","Data":" 头部压缩HTTP/2 会"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"压缩头"},{"Type":"NodeText","Data":"（Header）如果你同时发出多个请求，他们的头是⼀样的或是相似的，那么，协议会帮你"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"消除重复部分"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230817161842-me1ckl7","Type":"NodeParagraph","Properties":{"id":"20230817161842-me1ckl7","updated":"20230817161842"},"Children":[{"Type":"NodeText","Data":"这就是所谓的 HPACK 算法：在客户端和服务器同时维护⼀张头信息表，所有字段都会存⼊这个表，⽣成⼀个索"}]},{"ID":"20230817161843-ru3d7lv","Type":"NodeParagraph","Properties":{"id":"20230817161843-ru3d7lv","updated":"20230817161843"},"Children":[{"Type":"NodeText","Data":"引号，以后就不发送同样字段了，只发送索引号，这样就"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"提⾼速度"},{"Type":"NodeText","Data":"了。"}]},{"ID":"20230817161844-kia9fi6","Type":"NodeParagraph","Properties":{"id":"20230817161844-kia9fi6","updated":"20230817161844"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"2."},{"Type":"NodeText","Data":" ⼆进制格式"}]},{"ID":"20230817161845-fghvcn5","Type":"NodeParagraph","Properties":{"id":"20230817161845-fghvcn5","updated":"20230817161845"},"Children":[{"Type":"NodeText","Data":"HTTP/2 不再像 HTTP/1.1 ⾥的纯⽂本形式的报⽂，⽽是全⾯采⽤了"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"⼆进制格式"},{"Type":"NodeText","Data":"，头信息和数据体都是⼆进制，并"}]},{"ID":"20230817161846-m0006bb","Type":"NodeParagraph","Properties":{"id":"20230817161846-m0006bb","updated":"20230817161846"},"Children":[{"Type":"NodeText","Data":"且统称为帧（frame）："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"头信息帧和数据帧"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230817161847-fvscorp","Type":"NodeParagraph","Properties":{"id":"20230817161847-fvscorp","updated":"20230817161847"},"Children":[{"Type":"NodeText","Data":"这样虽然对⼈不友好，但是对计算机⾮常友好，因为计算机只懂⼆进制，那么收到报⽂后，⽆需再将明⽂的报⽂转"}]},{"ID":"20230817161848-8mogxj6","Type":"NodeParagraph","Properties":{"id":"20230817161848-8mogxj6","updated":"20230817161848"},"Children":[{"Type":"NodeText","Data":"成⼆进制，⽽是直接解析⼆进制报⽂，这"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"增加了数据传输的效率"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230817161849-208h1yi","Type":"NodeParagraph","Properties":{"id":"20230817161849-208h1yi","updated":"20230817161849"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"3."},{"Type":"NodeText","Data":" 数据流"}]},{"ID":"20230817161850-bx5srtk","Type":"NodeParagraph","Properties":{"id":"20230817161850-bx5srtk","updated":"20230817161850"},"Children":[{"Type":"NodeText","Data":"HTTP/2 的数据包不是按顺序发送的，同⼀个连接⾥⾯连续的数据包，可能属于不同的回应。因此，必须要对数据"}]},{"ID":"20230817161851-e2jzdey","Type":"NodeParagraph","Properties":{"id":"20230817161851-e2jzdey","updated":"20230817161851"},"Children":[{"Type":"NodeText","Data":"包做标记，指出它属于哪个回应。"}]},{"ID":"20230817161852-q2vcte3","Type":"NodeParagraph","Properties":{"id":"20230817161852-q2vcte3","updated":"20230817161852"},"Children":[{"Type":"NodeText","Data":"每个请求或回应的所有数据包，称为⼀个数据流（ Stream ）。每个数据流都标记着⼀个独⼀⽆⼆的编号，其中规"}]},{"ID":"20230817161853-zi56ypm","Type":"NodeParagraph","Properties":{"id":"20230817161853-zi56ypm","updated":"20230817161853"},"Children":[{"Type":"NodeText","Data":"定客户端发出的数据流编号为奇数， 服务器发出的数据流编号为偶数"}]},{"ID":"20230817161854-by9nvqw","Type":"NodeParagraph","Properties":{"id":"20230817161854-by9nvqw","updated":"20230817161854"},"Children":[{"Type":"NodeText","Data":"客户端还可以"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"指定数据流的优先级"},{"Type":"NodeText","Data":"。优先级⾼的请求，服务器就先响应该请求。"}]},{"ID":"20230817161855-l8y4lk0","Type":"NodeParagraph","Properties":{"id":"20230817161855-l8y4lk0","updated":"20230817161855"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"4."},{"Type":"NodeText","Data":" 多路复⽤"}]},{"ID":"20230817161856-vyig0d6","Type":"NodeParagraph","Properties":{"id":"20230817161856-vyig0d6","updated":"20230817161856"},"Children":[{"Type":"NodeText","Data":"HTTP/2 是可以在"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"⼀个连接中并发多个请求或回应，⽽不⽤按照顺序⼀⼀对应"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230817161857-ev9fln8","Type":"NodeParagraph","Properties":{"id":"20230817161857-ev9fln8","updated":"20230817161857"},"Children":[{"Type":"NodeText","Data":"移除了 HTTP/1.1 中的串⾏请求，不需要排队等待，也就不会再出现「队头阻塞」问题，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"降低了延迟，⼤幅度提⾼"}]},{"ID":"20230817161858-yo2i1uf","Type":"NodeParagraph","Properties":{"id":"20230817161858-yo2i1uf","updated":"20230817161858"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"了连接的利⽤率"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230817161859-rwfnfpi","Type":"NodeParagraph","Properties":{"id":"20230817161859-rwfnfpi","updated":"20230817161859"},"Children":[{"Type":"NodeText","Data":"举例来说，在⼀个 TCP 连接⾥，服务器收到了客户端 A 和 B 的两个请求，如果发现 A 处理过程⾮常耗时，于是就"}]},{"ID":"20230817161860-t8yek1m","Type":"NodeParagraph","Properties":{"id":"20230817161860-t8yek1m","updated":"20230817161860"},"Children":[{"Type":"NodeText","Data":"回应 A 请求已经处理好的部分，接着回应 B 请求，完成后，再回应 A 请求剩下的部分。"}]},{"ID":"20230817161861-5okn12m","Type":"NodeParagraph","Properties":{"id":"20230817161861-5okn12m","updated":"20230817161861"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"em","TextMarkTextContent":"5."},{"Type":"NodeText","Data":" 服务器推送"}]},{"ID":"20230817161862-vxpitqf","Type":"NodeParagraph","Properties":{"id":"20230817161862-vxpitqf","updated":"20230817161862"},"Children":[{"Type":"NodeText","Data":"HTTP/2 还在⼀定程度上改善了传统的「请求 - 应答」⼯作模式，服务不再是被动地响应，也可以"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"主动"},{"Type":"NodeText","Data":"向客户端发"}]},{"ID":"20230817161863-q2ma2cx","Type":"NodeParagraph","Properties":{"id":"20230817161863-q2ma2cx","updated":"20230817161863"},"Children":[{"Type":"NodeText","Data":"送消息。"}]},{"ID":"20230817161864-14yzgnn","Type":"NodeParagraph","Properties":{"id":"20230817161864-14yzgnn","updated":"20230817161864"},"Children":[{"Type":"NodeText","Data":"举例来说，在浏览器刚请求 HTML 的时候，就提前把可能会⽤到的 JS、CSS ⽂件等静态资源主动发给客户端，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"减"}]},{"ID":"20230817161865-xidqrlv","Type":"NodeParagraph","Properties":{"id":"20230817161865-xidqrlv","updated":"20230817161865"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"少延时的等待"},{"Type":"NodeText","Data":"，也就是服务器推送（Server Push，也叫 Cache Push）。"}]},{"ID":"20230817161866-y4pa8hd","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161866-y4pa8hd","updated":"20230817161866"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3、HTTP/2 有哪些缺陷？HTTP/3 做了哪些优化？"}]},{"ID":"20230817161867-f1jqukv","Type":"NodeParagraph","Properties":{"id":"20230817161867-f1jqukv","updated":"20230817161867"},"Children":[{"Type":"NodeText","Data":"HTTP/2 主要的问题在于，多个 HTTP 请求在复⽤⼀个 TCP 连接，下层的 TCP 协议是不知道有多少个 HTTP 请求"}]},{"ID":"20230817161868-sej8ity","Type":"NodeParagraph","Properties":{"id":"20230817161868-sej8ity","updated":"20230817161868"},"Children":[{"Type":"NodeText","Data":"的。所以⼀旦发⽣了丢包现象，就会触发 TCP 的᯿传机制，这样在⼀个 TCP 连接中的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"所有的"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"HTTP"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"请求都必须等"}]},{"ID":"20230817161869-s6fn3gz","Type":"NodeParagraph","Properties":{"id":"20230817161869-s6fn3gz","updated":"20230817161869"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"待这个丢了的包被重传回来"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230817161870-n3xgtia","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161870-n3xgtia","updated":"20230817161870"},"Children":[{"ID":"20230817161871-w6v5s8z","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161871-w6v5s8z","updated":"20230817161871"},"Children":[{"ID":"20230817161872-x2aycv7","Type":"NodeParagraph","Properties":{"id":"20230817161872-x2aycv7","updated":"20230817161872"},"Children":[{"Type":"NodeText","Data":"HTTP/1.1 中的管道（ pipeline）传输中如果有⼀个请求阻塞了，那么队列后请求也统统被阻塞住了"}]}]},{"ID":"20230817161873-hrzc8i2","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161873-hrzc8i2","updated":"20230817161873"},"Children":[{"ID":"20230817161874-mpm3s5k","Type":"NodeParagraph","Properties":{"id":"20230817161874-mpm3s5k","updated":"20230817161874"},"Children":[{"Type":"NodeText","Data":"HTTP/2 多个请求复⽤⼀个TCP连接，⼀旦发⽣丢包，就会阻塞住所有的 HTTP 请求。"}]}]}]},{"ID":"20230817161875-gcoxraj","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161875-gcoxraj","updated":"20230817161875"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"于是乎 http3将tcp改为了udp！"}]},{"ID":"20230817161876-jdheuk9","Type":"NodeParagraph","Properties":{"id":"20230817161876-jdheuk9","updated":"20230817161876"},"Children":[{"Type":"NodeText","Data":"UDP 发⽣是不管顺序，也不管丢包的，所以不会出现 HTTP/1.1 的队头阻塞 和 HTTP/2 的⼀个丢包全部重传问"}]},{"ID":"20230817161877-ccxgbrw","Type":"NodeParagraph","Properties":{"id":"20230817161877-ccxgbrw","updated":"20230817161877"},"Children":[{"Type":"NodeText","Data":"题。"}]},{"ID":"20230817161878-eq5u6be","Type":"NodeParagraph","Properties":{"id":"20230817161878-eq5u6be","updated":"20230817161878"},"Children":[{"Type":"NodeText","Data":"⼤家都知道 UDP 是不可靠传输的，但基于 UDP 的 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"QUIC"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"协议"},{"Type":"NodeText","Data":" 可以实现类似 TCP 的可靠性传输。"}]},{"ID":"20230817161879-4t4m7yq","Type":"NodeParagraph","Properties":{"id":"20230817161879-4t4m7yq","updated":"20230817161879"},"Children":[{"Type":"NodeText","Data":"QUIC 有⾃⼰的⼀套机制可以保证传输的可靠性的。当某个流发⽣丢包时，只会阻塞这个流，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"其他流不会受到"}]},{"ID":"20230817161880-e6zozyi","Type":"NodeParagraph","Properties":{"id":"20230817161880-e6zozyi","updated":"20230817161880"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"影响"},{"Type":"NodeText","Data":"。"}]},{"ID":"20230817161881-qlc7tnc","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161881-qlc7tnc","updated":"20230817161881"},"Children":[{"ID":"20230817161882-c7i3kaj","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161882-c7i3kaj","updated":"20230817161882"},"Children":[{"ID":"20230817161883-rvcu8e2","Type":"NodeParagraph","Properties":{"id":"20230817161883-rvcu8e2","updated":"20230817161883"},"Children":[{"Type":"NodeText","Data":"TLS3 升级成了最新的 1.3 版本，头部压缩算法也升级成了 QPack 。"}]}]},{"ID":"20230817161884-h1xute0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161884-h1xute0","updated":"20230817161884"},"Children":[{"ID":"20230817161885-l9w7awt","Type":"NodeParagraph","Properties":{"id":"20230817161885-l9w7awt","updated":"20230817161885"},"Children":[{"Type":"NodeText","Data":"HTTPS 要建⽴⼀个连接，要花费 6 次交互，先是建⽴三次握⼿，然后是 TLS/1.3 的三次握⼿。QUIC 直接"}]}]},{"ID":"20230817161886-apzu25w","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230817161886-apzu25w","updated":"20230817161886"},"Children":[{"ID":"20230817161887-x4xmx3j","Type":"NodeParagraph","Properties":{"id":"20230817161887-x4xmx3j","updated":"20230817161887"},"Children":[{"Type":"NodeText","Data":"把以往的 TCP 和 TLS/1.3 的 6 次交互"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"合并成了"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"3"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"次，减少了交互次数"},{"Type":"NodeText","Data":"。"}]}]}]},{"ID":"20230817161888-fp85fwp","Type":"NodeParagraph","Properties":{"id":"20230817161888-fp85fwp","updated":"20230817161888"},"Children":[{"Type":"NodeText","Data":"架构图："}]},{"ID":"20230817161889-pan6agz","Type":"NodeParagraph","Properties":{"id":"20230817161889-pan6agz","updated":"20230817161889"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"http演变的历史架构","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"C:\\Users\\HHH\\Desktop\\http演变的历史架构.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]}]}