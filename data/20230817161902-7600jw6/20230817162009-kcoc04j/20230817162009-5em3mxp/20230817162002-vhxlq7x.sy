{"ID":"20230817162002-vhxlq7x","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817162002-vhxlq7x","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230817162002-vhxlq7x\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230817162003-f91ebty\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230817162008-0d7ztyj\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230817162007-tneg4iz\u0026quot;,\u0026quot;focusStart\u0026quot;:3,\u0026quot;focusEnd\u0026quot;:3\u0026#125;","title":"Watermark01","updated":"20230817162002"},"Children":[{"ID":"20230817162003-f91ebty","Type":"NodeParagraph","Properties":{"id":"20230817162003-f91ebty","updated":"20230817162003"},"Children":[{"Type":"NodeText","Data":"Watermark"}]},{"ID":"20230817162004-bq6xuzq","Type":"NodeParagraph","Properties":{"id":"20230817162004-bq6xuzq","updated":"20230817162004"},"Children":[{"Type":"NodeText","Data":"WM其实就是一种延迟触发的机制"}]},{"ID":"20230817162005-p5p4imw","Type":"NodeParagraph","Properties":{"id":"20230817162005-p5p4imw","updated":"20230817162005"},"Children":[{"Type":"NodeText","Data":"wm=数据所携带的最大时间-延迟时间"}]},{"ID":"20230817162006-9b4fbo4","Type":"NodeParagraph","Properties":{"id":"20230817162006-9b4fbo4","updated":"20230817162006"},"Children":[{"Type":"NodeText","Data":"当wm\u003e=对应的时间窗口的终止时间 该窗口内的数据就会被触发执行就会被触发执行"}]},{"ID":"20230817162007-tneg4iz","Type":"NodeParagraph","Properties":{"id":"20230817162007-tneg4iz","updated":"20230817162007"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20220402170453038","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"C:\\Users\\HHH\\AppData\\Roaming\\Typora\\typora-user-images\\image-20220402170453038.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230817162008-0d7ztyj","Type":"NodeParagraph","Properties":{"id":"20230817162008-0d7ztyj","updated":"20230817162008"},"Children":[{"Type":"NodeText","Data":"如上图中 已知窗口的时间大小为5秒 最大延时为2秒 当eventtime到达6999后 这个时候watermark到达4999 即触发了[0000-5000）这个窗口的执行 于是输出了下面的全量聚合a,3 当eventtime到达15000时 水印已经到达13000已经超过了[5000,10000)这个窗口的最大值 于是该窗口也被触发"}]}]}