{"ID":"20230817161949-jq3lycr","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230817161949-jq3lycr","title":"Yarn","updated":"20230817161949"},"Children":[{"ID":"20230817161950-gebl606","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230817161950-gebl606","updated":"20230817161950"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"#### ","Properties":{"id":""}},{"Type":"NodeText","Data":"Yarn"}]},{"ID":"20230817161951-602b7bj","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161951-602b7bj","updated":"20230817161951"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"yarn作用："}]},{"ID":"20230817161952-uatgkxg","Type":"NodeParagraph","Properties":{"id":"20230817161952-uatgkxg","updated":"20230817161952"},"Children":[{"Type":"NodeText","Data":"yarn主要是负责集群资源的管理和调度"}]},{"ID":"20230817161953-9h1bo3x","Type":"NodeParagraph","Properties":{"id":"20230817161953-9h1bo3x","updated":"20230817161953"},"Children":[{"Type":"NodeText","Data":"yarn不仅仅支持mapreduce 还支持flink spark等计算引擎"}]},{"ID":"20230817161954-4azq5k4","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161954-4azq5k4","updated":"20230817161954"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"yarn架构分析："}]},{"ID":"20230817161955-dsvlosi","Type":"NodeParagraph","Properties":{"id":"20230817161955-dsvlosi","updated":"20230817161955"},"Children":[{"Type":"NodeText","Data":"支持主从架构 主节点最多有两个 从节点可以有多个"}]},{"ID":"20230817161956-1yuacgr","Type":"NodeParagraph","Properties":{"id":"20230817161956-1yuacgr","updated":"20230817161956"},"Children":[{"Type":"NodeText","Data":"resourcemanager ：负责集群资源的分配和管理"}]},{"ID":"20230817161957-1uptxkn","Type":"NodeParagraph","Properties":{"id":"20230817161957-1uptxkn","updated":"20230817161957"},"Children":[{"Type":"NodeText","Data":"nodemanager： 负责当前机器的资源分配与管理"}]},{"ID":"20230817161958-p6juvum","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161958-p6juvum","updated":"20230817161958"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"yarn资源管理模型："}]},{"ID":"20230817161959-6rpdllm","Type":"NodeParagraph","Properties":{"id":"20230817161959-6rpdllm","updated":"20230817161959"},"Children":[{"Type":"NodeText","Data":"主要管理内存和cpu这两种资源"}]},{"ID":"20230817161960-phqvqdr","Type":"NodeParagraph","Properties":{"id":"20230817161960-phqvqdr","updated":"20230817161960"},"Children":[{"Type":"NodeText","Data":"nodemanager启动时 会向主节点进行注册 注册信息中包含该节点可以分配的内存和cpu"}]},{"ID":"20230817161961-upd01b7","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161961-upd01b7","updated":"20230817161961"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"yarn的调度器："}]},{"ID":"20230817161962-ahkpmja","Type":"NodeParagraph","Properties":{"id":"20230817161962-ahkpmja","updated":"20230817161962"},"Children":[{"Type":"NodeText","Data":"FIFO scheduler：先进先出调度策略【只有一个队列 所有任务都放在这个队列】"}]},{"ID":"20230817161963-sys497s","Type":"NodeParagraph","Properties":{"id":"20230817161963-sys497s","updated":"20230817161963"},"Children":[{"Type":"NodeText","Data":"capacitiy scheduler ： 存在多个队列 每个队列都分配有一定的资源 该调度器也是集群中默认的调度策略"}]},{"ID":"20230817161964-cr91z7e","Type":"NodeParagraph","Properties":{"id":"20230817161964-cr91z7e","updated":"20230817161964"},"Children":[{"Type":"NodeText","Data":"fair scheduler ：资源共享策略 当只有一个人任务时 他就可以独享整个集群资源 当有新的任务来时 就把集群中的资源分配一点给新的任务 更像一个 fair share pool"}]},{"ID":"20230817161965-lo2gnfx","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20230817161965-lo2gnfx","updated":"20230817161965"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"##### ","Properties":{"id":""}},{"Type":"NodeText","Data":"yarn的运行机制："}]},{"ID":"20230817161966-hynt4s4","Type":"NodeParagraph","Properties":{"id":"20230817161966-hynt4s4","updated":"20230817161966"},"Children":[{"Type":"NodeText","Data":"1、客户端联系资源管理器，要求运行一个application master进程（上图步骤1）。"}]},{"ID":"20230817161967-6yl0uby","Type":"NodeParagraph","Properties":{"id":"20230817161967-6yl0uby","updated":"20230817161967"},"Children":[{"Type":"NodeText","Data":"2、资源管理其找到一个能够在容器启动application master的节点管理器（上图步骤2a、2b）。"}]},{"ID":"20230817161968-50f23gt","Type":"NodeParagraph","Properties":{"id":"20230817161968-50f23gt","updated":"20230817161968"},"Children":[{"Type":"NodeText","Data":"3、application master运行后，根据应用本身向资源管理器请求更多容器（上图步骤3）。"}]},{"ID":"20230817161969-i4716dy","Type":"NodeParagraph","Properties":{"id":"20230817161969-i4716dy","updated":"20230817161969"},"Children":[{"Type":"NodeText","Data":"4、资源管理器给application master分配需要的资源后，application master在对应资源节点管理器启动容器，节点管理器获取任务运行需要的resources后，在该容器运行任务。（上图4a、4b）。"}]}]}