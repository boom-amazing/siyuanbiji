{"ID":"20230819114931-ddlfkib","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230819114931-ddlfkib","title":"DockerFile的编写","updated":"20230819114931"},"Children":[{"ID":"20230819114932-9xmytvc","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230819114932-9xmytvc","updated":"20230819114932"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"DockerFile的编写"}]},{"ID":"20230819114933-iw1o0ae","Type":"NodeBlockquote","Properties":{"id":"20230819114933-iw1o0ae","updated":"20230819114933"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e ","Properties":{"id":""}},{"ID":"20230819114934-tx944ux","Type":"NodeParagraph","Properties":{"id":"20230819114934-tx944ux","updated":"20230819114934"},"Children":[{"Type":"NodeText","Data":"定义：Dockerfile 是一个用来构建镜像的文本文件，文本内容包含了一条条构建镜像所需的指令和说明。"}]}]},{"ID":"20230819114935-5ewc1cc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"ZG9ja2VyZmlsZQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114935-5ewc1cc","updated":"20230819114935"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"ZG9ja2VyZmlsZQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"基础镜像\nfrom nginx:1.14\n\n# dockerfile维护者\nmaintainer 2926229510@qq.com\n\n# 注释\nlabel pyy dockerfile-study\n\n# 构件时环境变量\narg port 80\n# 运行时的环境变量\nenv port 80\n\n# 拷贝\ncopy test.txt /\n# 拷贝并解压\n add test.tar /\n\n# 指定工作目录\nworkdir /\n# 在构建时执行指令\n run ls\n# 换一个工作目录\nworkdir /test\nrun ls\n\n# 容器启动时执行命令\ncmd [\"-g\",\"daemon off\"]\nentrypoint [\"nginx\"]\n\n# 暴露端口 1.开发人员便于查看 2.-P映射端口\n expose ${port}\n\n# 挂载卷\nvolume [\"/data\"]\n\n# 健康检查\nhealthcheck --interval=5s --timeout=3s  cmd curl -fs http://localhost/ || exit 1\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}