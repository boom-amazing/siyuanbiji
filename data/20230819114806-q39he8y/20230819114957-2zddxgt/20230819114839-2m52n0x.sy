{"ID":"20230819114839-2m52n0x","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230819114839-2m52n0x","title":"k8s安装教程以及DashBoard的搭建","updated":"20230819114839"},"Children":[{"ID":"20230819114840-7nk1fgo","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230819114840-7nk1fgo","updated":"20230819114840"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"k8s安装教程以及DashBoard的搭建"}]},{"ID":"20230819114841-gew72p5","Type":"NodeParagraph","Properties":{"id":"20230819114841-gew72p5","updated":"20230819114841"},"Children":[{"Type":"NodeText","Data":"Kubernetes是一个开源的容器编排平台，用于管理和自动化部署容器化的应用程序。Kubeadm是Kubernetes官方社区推出的一个用于快速部署Kubernetes集群的工具，它可以帮助我们简化集群部署的过程。"}]},{"ID":"20230819114842-4vwolew","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114842-4vwolew","updated":"20230819114842"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"1. 安装要求"}]},{"ID":"20230819114843-2aef6nc","Type":"NodeParagraph","Properties":{"id":"20230819114843-2aef6nc","updated":"20230819114843"},"Children":[{"Type":"NodeText","Data":"在开始之前，我们需要满足以下几个条件："}]},{"ID":"20230819114844-xsvkpxr","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230819114844-xsvkpxr","updated":"20230819114844"},"Children":[{"ID":"20230819114845-sym9pj4","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230819114845-sym9pj4","updated":"20230819114845"},"Children":[{"ID":"20230819114846-n1i8aqe","Type":"NodeParagraph","Properties":{"id":"20230819114846-n1i8aqe","updated":"20230819114846"},"Children":[{"Type":"NodeText","Data":"3台虚拟机，操作系统 CentOS7.7-86_x64(我用的是VMWare起的虚拟机)"}]}]},{"ID":"20230819114847-rjxamrt","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230819114847-rjxamrt","updated":"20230819114847"},"Children":[{"ID":"20230819114848-yecunhg","Type":"NodeParagraph","Properties":{"id":"20230819114848-yecunhg","updated":"20230819114848"},"Children":[{"Type":"NodeText","Data":"硬件配置：2核4G 100G"}]}]},{"ID":"20230819114849-5y0tvh6","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230819114849-5y0tvh6","updated":"20230819114849"},"Children":[{"ID":"20230819114850-4m6udsw","Type":"NodeParagraph","Properties":{"id":"20230819114850-4m6udsw","updated":"20230819114850"},"Children":[{"Type":"NodeText","Data":"可以访问外网，需要拉取镜像，如果服务器不能上网，需要提前下载镜像并导入节点(如果无法访问外网参考："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://juejin.cn/post/7205044806284378172","TextMarkTextContent":"juejin.cn/post/720504…"},{"Type":"NodeText","Data":")"}]}]},{"ID":"20230819114851-pphqlzg","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20230819114851-pphqlzg","updated":"20230819114851"},"Children":[{"ID":"20230819114852-r6qzxwl","Type":"NodeParagraph","Properties":{"id":"20230819114852-r6qzxwl","updated":"20230819114852"},"Children":[{"Type":"NodeText","Data":"禁止swap分区"}]}]}]},{"ID":"20230819114853-8dpruzk","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114853-8dpruzk","updated":"20230819114853"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"2. 准备环境"}]},{"ID":"20230819114854-9x9d3xi","Type":"NodeParagraph","Properties":{"id":"20230819114854-9x9d3xi","updated":"20230819114854"},"Children":[{"Type":"NodeText","Data":"以下是我本地的虚机IP配置"}]},{"ID":"20230819114855-ayfjjwv","Type":"NodeTable","Data":"| 角色   | IP             |\n| ------ | -------------- |\n| master | 192.168.91.137 |\n| node1  | 192.168.91.138 |\n| node2  | 192.168.91.139 |","TableAligns":[0,0],"Properties":{"id":"20230819114855-ayfjjwv","updated":"20230819114855"},"Children":[{"Type":"NodeTableHead","Properties":{"id":""},"Children":[{"Type":"NodeTableRow","Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"角色"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"IP"}]}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"master"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"192.168.91.137"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"node1"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"192.168.91.138"}]}]},{"Type":"NodeTableRow","TableAligns":[0,0],"Properties":{"id":""},"Children":[{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"node2"}]},{"Type":"NodeTableCell","Properties":{"id":""},"Children":[{"Type":"NodeText","Data":"192.168.91.139"}]}]}]},{"ID":"20230819114856-gzahw9q","Type":"NodeParagraph","Properties":{"id":"20230819114856-gzahw9q","updated":"20230819114856"},"Children":[{"Type":"NodeText","Data":"在准备好的3台虚机上执行以下命令，初始化环境"}]},{"ID":"20230819114857-vxn9boj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114857-vxn9boj","updated":"20230819114857"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# 关闭防火墙\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n# 关闭selinux\nsed -i 's/enforcing/disabled/' /etc/selinux/config  # 永久\nsetenforce 0  # 临时\n\n# 关闭swap\nswapoff -a  # 临时\nsed -ri 's/.*swap.*/#\u0026/' /etc/fstab    # 永久\n\n# 根据规划设置主机名\nhostnamectl set-hostname \u003chostname\u003e\n\n# 在master添加hosts，以下IP地址根据你的实际IP更改\ncat \u003e\u003e /etc/hosts \u003c\u003c EOF\n192.168.91.137 k8smaster\n192.168.91.138 k8snode1\n192.168.91.139 k8snode2\nEOF\n\n# 将桥接的IPv4流量传递到iptables的链\ncat \u003e /etc/sysctl.d/k8s.conf \u003c\u003c EOF\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.bridge.bridge-nf-call-iptables = 1\nEOF\nsysctl --system  # 生效\n\n# 时间同步\nyum install ntpdate -y\nntpdate time.windows.com\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114858-znzrogj","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114858-znzrogj","updated":"20230819114858"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"3. 所有节点安装Docker/kubeadm/kubelet"}]},{"ID":"20230819114859-gf0s2t7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230819114859-gf0s2t7","updated":"20230819114859"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.1 安装Docker"}]},{"ID":"20230819114860-gmimza1","Type":"NodeParagraph","Properties":{"id":"20230819114860-gmimza1","updated":"20230819114860"},"Children":[{"Type":"NodeText","Data":"Kubernetes默认CRI（容器运行时）为Docker，因此先安装Docker。"}]},{"ID":"20230819114861-gu9inlw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114861-gu9inlw","updated":"20230819114861"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"$ wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo\n$ yum -y install docker-ce-18.06.1.ce-3.el7\n$ systemctl enable docker \u0026\u0026 systemctl start docker\n$ docker --version\nDocker version 18.06.1-ce, build e68fc7a\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114862-xq5bcnc","Type":"NodeParagraph","Properties":{"id":"20230819114862-xq5bcnc","updated":"20230819114862"},"Children":[{"Type":"NodeText","Data":"配置docker源为国内源"}]},{"ID":"20230819114863-nka5jg8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114863-nka5jg8","updated":"20230819114863"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"bash复制代码$ cat \u003e /etc/docker/daemon.json \u003c\u003c EOF\n{\n  \"registry-mirrors\": [\"https://b9pmyelo.mirror.aliyuncs.com\"]\n}\nEOF\n\n# 重启 docker 使配置生效\nsystemctl restart docker\n\n# 查看docker信息\ndocker info\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114864-rkadw0q","Type":"NodeParagraph","Properties":{"id":"20230819114864-rkadw0q","updated":"20230819114864"},"Children":[{"Type":"NodeText","Data":"docker 的Registry Mirros如下表示配置成功 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ffa026ee44347de88a2900abfc345d5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114865-eppl1c6","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230819114865-eppl1c6","updated":"20230819114865"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.2 添加阿里云YUM软件源"}]},{"ID":"20230819114866-xbvmmf8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"aW5p","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114866-xbvmmf8","updated":"20230819114866"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aW5p","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"ini复制代码$ cat \u003e /etc/yum.repos.d/kubernetes.repo \u003c\u003c EOF\n[kubernetes]\nname=Kubernetes\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64\nenabled=1\ngpgcheck=0\nrepo_gpgcheck=0\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114867-hq661gw","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230819114867-hq661gw","updated":"20230819114867"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.3 安装kubeadm，kubelet和kubectl"}]},{"ID":"20230819114868-f7fu9se","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114868-f7fu9se","updated":"20230819114868"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"$ yum install -y kubelet-1.18.0 kubeadm-1.18.0 kubectl-1.18.0\n$ systemctl enable kubelet\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114869-xvn3knh","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114869-xvn3knh","updated":"20230819114869"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"4. 部署Kubernetes Master"}]},{"ID":"20230819114870-6iigs9e","Type":"NodeParagraph","Properties":{"id":"20230819114870-6iigs9e","updated":"20230819114870"},"Children":[{"Type":"NodeText","Data":"在192.168.91.137（Master）执行。 --apiserver-advertise-address={Master节点ip} 由于默认拉取镜像地址k8s.gcr.io国内无法访问，这里指定阿里云镜像仓库地址。"}]},{"ID":"20230819114871-9n32ahp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114871-9n32ahp","updated":"20230819114871"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"$ kubeadm init \\\n  --apiserver-advertise-address=192.168.93.100 \\\n  --image-repository registry.aliyuncs.com/google_containers \\\n  --kubernetes-version v1.18.0 \\\n  --service-cidr=10.96.0.0/12 \\\n  --pod-network-cidr=10.244.0.0/16\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114872-sfhxw22","Type":"NodeParagraph","Properties":{"id":"20230819114872-sfhxw22","updated":"20230819114872"},"Children":[{"Type":"NodeText","Data":"Master节点出现以下提示信息，表示安装成功 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"7bc9200bdd5f52c1f2f55786c87638c9_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/205e8595382f46059dd0c85feb0aeb60~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114873-src0ho5","Type":"NodeParagraph","Properties":{"id":"20230819114873-src0ho5","updated":"20230819114873"},"Children":[{"Type":"NodeText","Data":"安装成功后，按照提示将kube config 文件复制到指定目录，如下："}]},{"ID":"20230819114874-j1wbq5m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114874-j1wbq5m","updated":"20230819114874"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"mkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\n$ kubectl get nodes\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114875-plcnwhc","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114875-plcnwhc","updated":"20230819114875"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"5. 加入Kubernetes Node"}]},{"ID":"20230819114876-2yol8f4","Type":"NodeParagraph","Properties":{"id":"20230819114876-2yol8f4","updated":"20230819114876"},"Children":[{"Type":"NodeText","Data":"在192.168.91.138和192.168.91.139（Node）执行。"}]},{"ID":"20230819114877-r07gnk1","Type":"NodeParagraph","Properties":{"id":"20230819114877-r07gnk1","updated":"20230819114877"},"Children":[{"Type":"NodeText","Data":"向集群添加新节点，执行在kubeadm init输出的kubeadm join命令："}]},{"ID":"20230819114878-c7a5n5d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114878-c7a5n5d","updated":"20230819114878"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"$ kubeadm join 192.168.91.137:6443 --token oej61r.n22wnd46np15tea7 \\\n    --discovery-token-ca-cert-hash sha256:ca04c678c4b307e92efe1642da09385fdca4d254f7d15e45b04d29176dc272a0\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114879-9dbwmi3","Type":"NodeParagraph","Properties":{"id":"20230819114879-9dbwmi3","updated":"20230819114879"},"Children":[{"Type":"NodeText","Data":"在k8snode1虚机上执行kubeadm join将k8snode1加入到集群"}]},{"ID":"20230819114880-bpd4ojr","Type":"NodeParagraph","Properties":{"id":"20230819114880-bpd4ojr","updated":"20230819114880"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"ef28dd8a29e39760164e7832f12d3683_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/39607a03cd9f49f3b0ae4f2cd447e3ea~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114881-nfo3lzq","Type":"NodeParagraph","Properties":{"id":"20230819114881-nfo3lzq","updated":"20230819114881"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"a65e17d24c889195217172f28b7d16ce_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4203cc9d58e249b492d907a46833cf55~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114882-zktd1p8","Type":"NodeParagraph","Properties":{"id":"20230819114882-zktd1p8","updated":"20230819114882"},"Children":[{"Type":"NodeText","Data":"在k8snode2虚机上执行kubeadm join将k8snode2加入到集群"}]},{"ID":"20230819114883-qlf1lxu","Type":"NodeParagraph","Properties":{"id":"20230819114883-qlf1lxu","updated":"20230819114883"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"6ce4fae45a2e3fddd544d3d8d411a132_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f984246770384359b3f21277a73a7363~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114884-0acoow9","Type":"NodeParagraph","Properties":{"id":"20230819114884-0acoow9","updated":"20230819114884"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"ccb37382b6fd99bb0a09a77ce2b01dbb_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49307609186d4f8293150e1668292f35~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114885-m3shnjg","Type":"NodeParagraph","Properties":{"id":"20230819114885-m3shnjg","updated":"20230819114885"},"Children":[{"Type":"NodeText","Data":"默认token有效期为24小时，当过期之后，该token就不可用了。这时就需要重新创建token，操作如下："}]},{"ID":"20230819114886-qo82qac","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114886-qo82qac","updated":"20230819114886"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"shell\nkubeadm token create --print-join-command\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114887-usl0u4a","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114887-usl0u4a","updated":"20230819114887"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"6. 部署CNI网络插件"}]},{"ID":"20230819114888-febh1bp","Type":"NodeParagraph","Properties":{"id":"20230819114888-febh1bp","updated":"20230819114888"},"Children":[{"Type":"NodeText","Data":"做完以上5步后，发现所有节点都是 NotReady 状态，是因为Kubernetes集群需要一个网络插件来提供容器之间的网络通信。我们可以选择安装Flannel插件，执行以下命令来部署："}]},{"ID":"20230819114889-kkpff9a","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"cnVieQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114889-kkpff9a","updated":"20230819114889"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVieQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"ruby复制代码kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml\n\nkubectl get pods -A\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114890-kbuywi2","Type":"NodeParagraph","Properties":{"id":"20230819114890-kbuywi2","updated":"20230819114890"},"Children":[{"Type":"NodeText","Data":"出现以下说明网络插件安装成功，需要等一会网络插件相关pod才能起来 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"d8a7963f76903a90b3385b0af122dfca_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75ac2bf1552e4f169654cdb5cacf61a5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114891-usxasng","Type":"NodeParagraph","Properties":{"id":"20230819114891-usxasng","updated":"20230819114891"},"Children":[{"Type":"NodeText","Data":"过几分钟后，执行 kubectl get pods -A，发现在namespace kube-flannel 下网络插件的pod已经处于 Running 状态 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"a5f8a6c82d0e105892084fef488d199a_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b114a3261b8c40888752d5674f43c151~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114892-jx13iqf","Type":"NodeParagraph","Properties":{"id":"20230819114892-jx13iqf","updated":"20230819114892"},"Children":[{"Type":"NodeText","Data":"再次执行 kubectl get nodes 查看nodes状态，发现3个节点的状态已经从 NotReady 变成了 Ready，说明集群节点准备就绪，可以正常创建pod等 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"249db944340f51a91193d3925233e0d6_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/71816a39293541fe85b52cbccb1d8c63~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114893-c558d9r","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114893-c558d9r","updated":"20230819114893"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"7. 测试kubernetes集群"}]},{"ID":"20230819114894-2nsfsi6","Type":"NodeParagraph","Properties":{"id":"20230819114894-2nsfsi6","updated":"20230819114894"},"Children":[{"Type":"NodeText","Data":"在Kubernetes集群中创建一个pod，验证是否正常运行："}]},{"ID":"20230819114895-x50d6zy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"aW5p","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114895-x50d6zy","updated":"20230819114895"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aW5p","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"ini复制代码$ kubectl create deployment nginx --image=nginx\n$ kubectl expose deployment nginx --port=80 --type=NodePort\n$ kubectl get pod,svc\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114896-zqwj3l2","Type":"NodeParagraph","Properties":{"id":"20230819114896-zqwj3l2","updated":"20230819114896"},"Children":[{"Type":"NodeText","Data":"如下图，可以看到 nginx pod已经正常运行，而且创建的 svc 对外暴漏的端口是 31874 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"03062c39d8c6f4551e3d2c361cf3dc81_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/889280e43489455c8a9d3c96d46c7738~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":" 使用3台虚拟机的IP加上端口访问nginx服务 Master虚机IP+端口 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"018b4563a8a0a7a5192400254920d48a_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70b6d5bd00ca496183baacf6e9d005b8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]},{"Type":"NodeText","Data":" k8snode1虚机IP+端口"}]},{"ID":"20230819114897-gru9hzv","Type":"NodeParagraph","Properties":{"id":"20230819114897-gru9hzv","updated":"20230819114897"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"fc44b3e5d13a31be954592e8a9de9c80_.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e48db9e3c984821b2e9f6dd9b78cabd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114898-y6opjuc","Type":"NodeParagraph","Properties":{"id":"20230819114898-y6opjuc","updated":"20230819114898"},"Children":[{"Type":"NodeText","Data":"k82node2虚机IP+端口 "},{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image.png","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15e3405b15f54510b7bce62c6734b417~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114899-w9e5312","Type":"NodeParagraph","Properties":{"id":"20230819114899-w9e5312","updated":"20230819114899"},"Children":[{"Type":"NodeText","Data":"说明你可以使用任何一个Node节点的IP地址和NodePort来访问Nginx应用。"}]},{"ID":"20230819114900-xjs13lu","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114900-xjs13lu","updated":"20230819114900"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"8.搭建dashBoard"}]},{"ID":"20230819114901-iyp0dce","Type":"NodeParagraph","Properties":{"id":"20230819114901-iyp0dce","updated":"20230819114901"},"Children":[{"Type":"NodeText","Data":"1）下载dashboard文件"}]},{"ID":"20230819114902-sgofsjx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114902-sgofsjx","updated":"20230819114902"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"curl -o kubernetes-dashboard.yaml  https://raw.githubusercontent.com/kubernetes/dashboard/master/aio/deploy/recommended/kubernetes-dashboard.yaml\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114903-23voz8p","Type":"NodeParagraph","Properties":{"id":"20230819114903-23voz8p","updated":"20230819114903"},"Children":[{"Type":"NodeText","Data":"若下载不下来 直接访问网站拉取"}]},{"ID":"20230819114904-l4ug1c0","Type":"NodeParagraph","Properties":{"id":"20230819114904-l4ug1c0","updated":"20230819114904"},"Children":[{"Type":"NodeText","Data":"安装"}]},{"ID":"20230819114905-hk5msws","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114905-hk5msws","updated":"20230819114905"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"kubectl apply -f kubernetes-dashboard.yaml\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114906-hrxrmdy","Type":"NodeParagraph","Properties":{"id":"20230819114906-hrxrmdy","updated":"20230819114906"},"Children":[{"Type":"NodeText","Data":"验证，查看服务被分配到哪个节点上"}]},{"ID":"20230819114907-4nmnyrz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114907-4nmnyrz","updated":"20230819114907"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"kubectl get pods -n kube-system -o wide\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114908-2ex8a4k","Type":"NodeParagraph","Properties":{"id":"20230819114908-2ex8a4k","updated":"20230819114908"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20230814182103711","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"C:\\Users\\HHH\\AppData\\Roaming\\Typora\\typora-user-images\\image-20230814182103711.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114909-b1yhig7","Type":"NodeParagraph","Properties":{"id":"20230819114909-b1yhig7","updated":"20230819114909"},"Children":[{"Type":"NodeText","Data":"查看端口"}]},{"ID":"20230819114910-vqqggeo","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114910-vqqggeo","updated":"20230819114910"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"kubectl get svc -n kubernetes-dashboard\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114911-t8uxmr3","Type":"NodeParagraph","Properties":{"id":"20230819114911-t8uxmr3","updated":"20230819114911"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20230814182619878","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"C:\\Users\\HHH\\AppData\\Roaming\\Typora\\typora-user-images\\image-20230814182619878.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20230819114912-ekx08it","Type":"NodeParagraph","Properties":{"id":"20230819114912-ekx08it","updated":"20230819114912"},"Children":[{"Type":"NodeText","Data":"访问"}]},{"ID":"20230819114913-balas0m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114913-balas0m","updated":"20230819114913"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"https://bigdata02:31111/\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114914-ptkev2t","Type":"NodeParagraph","Properties":{"id":"20230819114914-ptkev2t","updated":"20230819114914"},"Children":[{"Type":"NodeText","Data":"输入token"}]},{"ID":"20230819114915-sij1fso","Type":"NodeParagraph","Properties":{"id":"20230819114915-sij1fso","updated":"20230819114915"},"Children":[{"Type":"NodeText","Data":"创建token"}]},{"ID":"20230819114916-3vybgie","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114916-3vybgie","updated":"20230819114916"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"kubectl get secret -n kube-system|grep  kubernetes-dashboard-token\n# 根据自己情况输入命令\nkubectl describe secret kubernetes-dashboard-token-m7b7b -n kube-system\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}