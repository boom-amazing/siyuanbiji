{"ID":"20230826190850-gxfg4u9","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230826190850-gxfg4u9","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230826190850-gxfg4u9\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230826190902-l8hhdmd\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230826190850-c6rouf4\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230826190902-l8hhdmd\u0026quot;,\u0026quot;focusStart\u0026quot;:5,\u0026quot;focusEnd\u0026quot;:5\u0026#125;","title":"磁盘自动化挂载","updated":"20230826190906"},"Children":[{"ID":"20230826190902-l8hhdmd","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230826190902-l8hhdmd","updated":"20230826190906"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"#! /bin/bash\ndf -h|grep '/hadoop' \u0026\u0026 exit 1\nyum install parted kmod-xfs xfsprogs -y\ndisk_num=`fdisk -l | awk '$1==\"Disk\"\u0026\u0026$2~\"^/dev\"\u0026\u0026$2!~\"^/dev/sda\" {split($2,s,\":\"); print s[1]}'`\nNUM=1\nfor i in $disk_num\ndo\n        parted  -s $i mklabel gpt\n        parted  -s $i mkpart primary 1 100%\n        mkfs.xfs -f ${i}1\n        if [ $NUM -eq 0 ];then\n                TMP=\"\"\n        else\n                TMP=$NUM\n        fi\n        mkdir /hadoop${TMP}\n        mount -o noatime,nodiratime ${i}1 /hadoop${TMP}\n        uuid=`blkid ${i}1 |awk '{print $2}' |sed s#\\\"##g`\n        echo \"$uuid     /hadoop${TMP}   xfs     noatime,nodiratime 0       0\"\u003e\u003e/etc/fstab\n        ((NUM++))\ndone\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230826190850-c6rouf4","Type":"NodeParagraph","Properties":{"id":"20230826190850-c6rouf4","updated":"20230826190850"}}]}