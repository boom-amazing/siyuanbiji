{"ID":"20230907083909-642rmqq","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230907083909-642rmqq","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230907083909-642rmqq\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230907083918-noy8uap\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230907084600-5msueu3\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230907084625-eh3ninv\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"zk集群模式搭建","updated":"20230907084801"},"Children":[{"ID":"20230907083918-noy8uap","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907083918-noy8uap","updated":"20230907084625"},"Children":[{"ID":"20230907084625-wx6ucnq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230907084625-wx6ucnq","updated":"20230907084625"},"Children":[{"ID":"20230907084625-eh3ninv","Type":"NodeParagraph","Properties":{"id":"20230907084625-eh3ninv","updated":"20230907084625"},"Children":[{"Type":"NodeText","Data":"主机"}]}]}]},{"ID":"20230907084124-7bxb3z8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084124-7bxb3z8","updated":"20230907084204"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"bigdata01 192.168.93.100\nbigdata02 192.168.93.101\nbigdata03 192.168.93.102\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084204-axxmyxf","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907084204-axxmyxf","updated":"20230907084631"},"Children":[{"ID":"20230907084631-o7mnneq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230907084631-o7mnneq","updated":"20230907084631"},"Children":[{"ID":"20230907084631-l78zr9r","Type":"NodeParagraph","Properties":{"id":"20230907084631-l78zr9r","updated":"20230907084631"},"Children":[{"Type":"NodeText","Data":"下载安装包"}]}]}]},{"ID":"20230907084215-9iikjqt","Type":"NodeParagraph","Properties":{"id":"20230907084215-9iikjqt","updated":"20230907084340"},"Children":[{"Type":"NodeText","Data":"下载地址:"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://zookeeper.apache.org/releases.html","TextMarkATitle":"下载地址","TextMarkTextContent":"zookeeper.apache.org/rel..."}]},{"ID":"20230907084342-5o6ufdy","Type":"NodeParagraph","Properties":{"id":"20230907084342-5o6ufdy","updated":"20230907084349"},"Children":[{"Type":"NodeText","Data":"解压"}]},{"ID":"20230907084404-k6st9t7","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907084404-k6st9t7","updated":"20230907084801"},"Children":[{"ID":"20230907084634-papkzt1","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20230907084634-papkzt1","updated":"20230907084801"},"Children":[{"ID":"20230907084634-dta92ej","Type":"NodeParagraph","Properties":{"id":"20230907084634-dta92ej","updated":"20230907084634"},"Children":[{"Type":"NodeText","Data":"将"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"zoo_sample.cfg"},{"Type":"NodeText","Data":"​​重命名为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"zoo.cfg"},{"Type":"NodeText","Data":"​​ 修改配置文件"}]},{"ID":"20230907084730-v0oihbn","Type":"NodeParagraph","Properties":{"id":"20230907084730-v0oihbn","updated":"20230907084801"},"Children":[{"Type":"NodeText","Data":"2888 代表检测心跳的端口 3888 是选举端口"}]}]}]},{"ID":"20230907084417-0m8j95c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084417-0m8j95c","updated":"20230907084453"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"cd apache-zookeeper-3.5.8-bin/conf/\nmv zoo_sample.cfg  zoo.cfg\nvi zoo.cfg\ndataDir=/data/soft/apache-zookeeper-3.5.8-bin/data\nserver.0=bigdata01:2888:3888\nserver.1=bigdata02:2888:3888\nserver.2=bigdata03:2888:3888\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084455-3gmh0zy","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907084455-3gmh0zy","updated":"20230907084643"},"Children":[{"ID":"20230907084643-zi14lf1","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20230907084643-zi14lf1","updated":"20230907084643"},"Children":[{"ID":"20230907084643-ql73f7m","Type":"NodeParagraph","Properties":{"id":"20230907084643-ql73f7m","updated":"20230907084643"},"Children":[{"Type":"NodeText","Data":"创建目录保存"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"myid"},{"Type":"NodeText","Data":"​文件，并且向"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"myid"},{"Type":"NodeText","Data":"​文件中写入内容\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"myid"},{"Type":"NodeText","Data":"​中的值其实是和"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"zoo.cfg"},{"Type":"NodeText","Data":"​中"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"server"},{"Type":"NodeText","Data":"​后面指定的编号是一一对应的\n编号"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​对应的是"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bigdata01"},{"Type":"NodeText","Data":"​这台机器，所以在这里指定"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20230907084513-dl0feuj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084513-dl0feuj","updated":"20230907084522"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata01 conf]#cd /data/soft/apache-zookeeper-3.5.8-bin\n[root@bigdata01 apache-zookeeper-3.5.8-bin]# mkdir data\n[root@bigdata01 apache-zookeeper-3.5.8-bin]# cd data\n[root@bigdata01 data]# echo 0 \u003e myid \n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084600-mwxmkm3","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907084600-mwxmkm3","updated":"20230907084648"},"Children":[{"ID":"20230907084648-cspnker","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NS4=","Num":5},"Properties":{"id":"20230907084648-cspnker","updated":"20230907084648"},"Children":[{"ID":"20230907084648-rcsnpsq","Type":"NodeParagraph","Properties":{"id":"20230907084648-rcsnpsq","updated":"20230907084648"},"Children":[{"Type":"NodeText","Data":"修改bigdata02和bigdata03上zookeeper中myid文件的内容\n首先修改bigdata02节点上的myid文件"}]}]}]},{"ID":"20230907084600-zmp5q41","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084600-zmp5q41","updated":"20230907084600"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata02 ~]# cd /data/soft/apache-zookeeper-3.5.8-bin/data/\n[root@bigdata02 data]# echo 1 \u003e myid\n代码块\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084600-i1a70qo","Type":"NodeParagraph","Properties":{"id":"20230907084600-i1a70qo","updated":"20230907084600"},"Children":[{"Type":"NodeText","Data":"然后修改bigdata03节点上的myid文件"}]},{"ID":"20230907084600-bxsupqh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084600-bxsupqh","updated":"20230907084600"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata03 ~]# cd /data/soft/apache-zookeeper-3.5.8-bin/data/\n[root@bigdata03 data]# echo 2 \u003e myid\n代码块\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084600-8u0ihhg","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907084600-8u0ihhg","updated":"20230907084652"},"Children":[{"ID":"20230907084652-5fltrex","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ni4=","Num":6},"Properties":{"id":"20230907084652-5fltrex","updated":"20230907084652"},"Children":[{"ID":"20230907084652-oaw540e","Type":"NodeParagraph","Properties":{"id":"20230907084652-oaw540e","updated":"20230907084652"},"Children":[{"Type":"NodeText","Data":"启动zookeeper集群\n分别在"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bigdata01、bigdata02、bigdata03"},{"Type":"NodeText","Data":"​上启动zookeeper进程\n在bigdata01上启动"}]}]}]},{"ID":"20230907084600-5ls7i2p","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084600-5ls7i2p","updated":"20230907084600"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata01 apache-zookeeper-3.5.8-bin]# bin/zkServer.sh start\nZooKeeper JMX enabled by default\nUsing config: /data/soft/apache-zookeeper-3.5.8-bin/bin/../conf/zoo.cfg\nStarting zookeeper ... STARTED\n代码块\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084600-xbczif8","Type":"NodeParagraph","Properties":{"id":"20230907084600-xbczif8","updated":"20230907084600"},"Children":[{"Type":"NodeText","Data":"在bigdata02上启动"}]},{"ID":"20230907084600-gerd9hv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084600-gerd9hv","updated":"20230907084600"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata02 apache-zookeeper-3.5.8-bin]# bin/zkServer.sh start\nZooKeeper JMX enabled by default\nUsing config: /data/soft/apache-zookeeper-3.5.8-bin/bin/../conf/zoo.cfg\nStarting zookeeper ... STARTED\n代码块\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084600-2y8xqc9","Type":"NodeParagraph","Properties":{"id":"20230907084600-2y8xqc9","updated":"20230907084600"},"Children":[{"Type":"NodeText","Data":"在bigdata03上启动"}]},{"ID":"20230907084600-dwziic9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907084600-dwziic9","updated":"20230907084600"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"[root@bigdata03 apache-zookeeper-3.5.8-bin]# bin/zkServer.sh start\nZooKeeper JMX enabled by default\nUsing config: /data/soft/apache-zookeeper-3.5.8-bin/bin/../conf/zoo.cfg\nStarting zookeeper ... STARTED\n代码块\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230907084600-5msueu3","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907084600-5msueu3","updated":"20230907084716"},"Children":[{"ID":"20230907084716-8kpg8i0","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ny4=","Num":7},"Properties":{"id":"20230907084716-8kpg8i0","updated":"20230907084716"},"Children":[{"ID":"20230907084716-x0xy6ge","Type":"NodeParagraph","Properties":{"id":"20230907084716-x0xy6ge","updated":"20230907084716"},"Children":[{"Type":"NodeText","Data":"：验证\n分别在bigdata01、bigdata02、bigdata03上执行jps命令验证是否有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"QuorumPeerMain"},{"Type":"NodeText","Data":"​进程\n如果都有就说明zookeeper集群启动正常了"}]}]}]}]}