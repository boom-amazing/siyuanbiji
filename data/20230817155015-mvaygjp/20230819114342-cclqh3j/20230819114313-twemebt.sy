{"ID":"20230819114313-twemebt","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230819114313-twemebt","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230819114313-twemebt\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230819114314-ojrc6yk\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230819114550-29k80ag\u0026quot;,\u0026quot;scrollTop\u0026quot;:0\u0026#125;","title":"Nacos2.2.3 集群搭建","updated":"20230907115432"},"Children":[{"ID":"20230907093557-r0mxsls","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230907093557-r0mxsls","updated":"20230907093636"},"Children":[{"Type":"NodeText","Data":"Nacos2.2.3（内部数据源 采用derby 目前集群模式有BUG）"}]},{"ID":"20230907111046-jxi2nt1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230907111046-jxi2nt1","updated":"20230907111054"},"Children":[{"Type":"NodeText","Data":"单机安装"}]},{"ID":"20230907111054-tzbkkib","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230907111054-tzbkkib","updated":"20230907113157"},"Children":[{"ID":"20230907111134-gyvvsaq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230907111134-gyvvsaq","updated":"20230907111134"},"Children":[{"ID":"20230907111134-qhtkoii","Type":"NodeParagraph","Properties":{"id":"20230907111134-qhtkoii","updated":"20230907111144"},"Children":[{"Type":"NodeText","Data":"下载nacos2.2.3"}]},{"ID":"20230907111201-kw90lv1","Type":"NodeParagraph","Properties":{"id":"20230907111201-kw90lv1","updated":"20230907111207"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://github.com/alibaba/nacos/releases","TextMarkTextContent":"github.com/alibaba/nacos..."}]}]},{"ID":"20230907111145-gnrsbzq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230907111145-gnrsbzq"},"Children":[{"ID":"20230907111145-edk6tvb","Type":"NodeParagraph","Properties":{"id":"20230907111145-edk6tvb","updated":"20230907111239"},"Children":[{"Type":"NodeText","Data":"修改配置文件(开启鉴权 )"}]},{"ID":"20230907111258-27qvbgx","Type":"NodeParagraph","Properties":{"id":"20230907111258-27qvbgx","updated":"20230907111306"},"Children":[{"Type":"NodeText","Data":"参考"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://nacos.io/zh-cn/docs/v2/guide/user/auth.html","TextMarkTextContent":"nacos.io/zh-cn/docs/v2/g..."}]},{"ID":"20230907111301-cl93wxz","Type":"NodeParagraph","Properties":{"id":"20230907111301-cl93wxz"}}]},{"ID":"20230907111241-lp8ejnu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20230907111241-lp8ejnu"},"Children":[{"ID":"20230907111241-ophykgo","Type":"NodeParagraph","Properties":{"id":"20230907111241-ophykgo","updated":"20230907111311"},"Children":[{"Type":"NodeText","Data":"单机启动"}]},{"ID":"20230907111312-z2s4z42","Type":"NodeParagraph","Properties":{"id":"20230907111312-z2s4z42","updated":"20230907111320"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sh startup.sh -m standalone"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20230907113143-voc6d52","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20230907113143-voc6d52","updated":"20230907113157"},"Children":[{"ID":"20230907113143-qsbjw4e","Type":"NodeParagraph","Properties":{"id":"20230907113143-qsbjw4e","updated":"20230907113150"},"Children":[{"Type":"NodeText","Data":"配置nacos服务"}]},{"ID":"20230907113154-b5u04d2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230907113154-b5u04d2","updated":"20230907113157"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"[Unit]\nDescription=Nacos Service\nAfter=network.target\n\n[Service]\nType=forking\nExecStart=/bin/sh /data/soft/nacos/bin/startup.sh -m standalone\nExecStop=/bin/sh /data/soft/nacos/bin/shutdown.sh\n\n[Install]\nWantedBy=multi-user.target\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20230907093557-i3edac0","Type":"NodeParagraph","Properties":{"id":"20230907093557-i3edac0"}},{"ID":"20230819114314-ojrc6yk","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230819114314-ojrc6yk","updated":"20230907093549"},"Children":[{"Type":"NodeText","Data":"Nacos2.2.3(外部数据源)"}]},{"ID":"20230819114315-tylx3ft","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114315-tylx3ft","updated":"20230819114315"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"1.环境准备"}]},{"ID":"20230819114316-s1lrlco","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230819114316-s1lrlco","updated":"20230907092546"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw="},{"Type":"NodeCodeBlockCode","Data":"Nacos 2.2.3\nmysql 5.7.43\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230819114317-iieualo","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114317-iieualo","updated":"20230819114317"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.下载安装包"}]},{"ID":"20230819114318-7xuidwx","Type":"NodeParagraph","Properties":{"id":"20230819114318-7xuidwx","updated":"20230819114318"},"Children":[{"Type":"NodeText","Data":"你可以通过两种方式来获取 Nacos。"}]},{"ID":"20230819114319-8lzfm8o","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230819114319-8lzfm8o","updated":"20230819114319"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"从 Github 上下载源码方式"}]},{"ID":"20230819114320-7qz7kv5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114320-7qz7kv5","updated":"20230819114320"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"unzip nacos-source.zip\ncd nacos/\nmvn -Prelease-nacos clean install -U  \ncd nacos/distribution/target/nacos-server-1.3.0/nacos/bin\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114321-zc9m4b3","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230819114321-zc9m4b3","updated":"20230819114321"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"下载编译后压缩包方式"}]},{"ID":"20230819114322-cy531bn","Type":"NodeParagraph","Properties":{"id":"20230819114322-cy531bn","updated":"20230819114322"},"Children":[{"Type":"NodeText","Data":"下载地址"}]},{"ID":"20230819114323-9mlmj33","Type":"NodeParagraph","Properties":{"id":"20230819114323-9mlmj33","updated":"20230819114323"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/alibaba/nacos/releases/download/1.3.0/nacos-server-1.3.0.tar.gz","TextMarkTextContent":"tar.gz包"}]},{"ID":"20230819114324-ct41zv3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114324-ct41zv3","updated":"20230819114324"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":" tar -xvf nacos-server-1.3.0.tar.gz\n  cd nacos/bin\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114325-ggloxqy","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114325-ggloxqy","updated":"20230819114325"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"3. 配置集群配置文件"}]},{"ID":"20230819114326-mzl70pc","Type":"NodeParagraph","Properties":{"id":"20230819114326-mzl70pc","updated":"20230819114326"},"Children":[{"Type":"NodeText","Data":"在nacos的解压目录nacos/的conf目录下，有配置文件cluster.conf，请每行配置成ip:port。（请配置3个或3个以上节点）"}]},{"ID":"20230819114327-es51de8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114327-es51de8","updated":"20230819114327"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"192.168.93.100:8848\n192.168.93.101:8848\n192.168.93.102:8848\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114328-mrt0erl","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114328-mrt0erl","updated":"20230819114328"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"4. 确定数据源"}]},{"ID":"20230819114329-2fjzka9","Type":"NodeParagraph","Properties":{"id":"20230819114329-2fjzka9","updated":"20230819114329"},"Children":[{"Type":"NodeText","Data":"建议使用外部数据源 推荐mysql"}]},{"ID":"20230819114330-mz35rin","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114330-mz35rin","updated":"20230819114330"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"1.创建nacos数据库\ncreate database nacos;\nuse nacos;\n2. 执行sql初始文件mysql-schema.sql(该sql文件在nacos的conf目录下)\nsource /usr/local/nacos/conf/mysql-schema.sql\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114331-4pgkjjl","Type":"NodeParagraph","Properties":{"id":"20230819114331-4pgkjjl","updated":"20230819114331"},"Children":[{"Type":"NodeText","Data":"修改application.properties 配置"}]},{"ID":"20230819114332-3pbgmzb","Type":"NodeParagraph","Properties":{"id":"20230819114332-3pbgmzb","updated":"20230907093752"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image-20230803152114669"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"C:\\Users\\HHH\\AppData\\Roaming\\Typora\\typora-user-images\\image-20230803152114669.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230819114333-w0dbyhd","Type":"NodeParagraph","Properties":{"id":"20230819114333-w0dbyhd","updated":"20230819114333"},"Children":[{"Type":"NodeText","Data":"主要修改mysql的url，user以及password"}]},{"ID":"20230819114334-8akync8","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230819114334-8akync8","updated":"20230819114334"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"5. 启动服务器"}]},{"ID":"20230819114335-xz9lp1y","Type":"NodeParagraph","Properties":{"id":"20230819114335-xz9lp1y","updated":"20230819114335"},"Children":[{"Type":"NodeText","Data":"启动nacos集群"}]},{"ID":"20230819114336-y25wfnx","Type":"NodeParagraph","Properties":{"id":"20230819114336-y25wfnx","updated":"20230819114336"},"Children":[{"Type":"NodeText","Data":"在每台机器上执行以下命令"}]},{"ID":"20230819114337-jyy8tl6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230819114337-jyy8tl6","updated":"20230819114337"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"startup.sh -m cluster\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230819114338-xryscsr","Type":"NodeParagraph","Properties":{"id":"20230819114338-xryscsr","updated":"20230819114609"},"Children":[{"Type":"NodeText","Data":"启动成功后查看日志"}]},{"ID":"20230819114340-tpdjkii","Type":"NodeParagraph","Properties":{"id":"20230819114340-tpdjkii","updated":"20230819114340"},"Children":[{"Type":"NodeText","Data":"打开http://192.168.93.100:8848/nacos/index.html可以看到web页面"}]},{"ID":"20230907115331-izjeozt","Type":"NodeParagraph","Properties":{"id":"20230907115331-izjeozt"}},{"ID":"20230907115332-eq780oi","Type":"NodeParagraph","Properties":{"id":"20230907115332-eq780oi","updated":"20230907115336"},"Children":[{"Type":"NodeText","Data":"参考"}]},{"ID":"20230907115336-seoamsh","Type":"NodeParagraph","Properties":{"id":"20230907115336-seoamsh","updated":"20230907115432"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://nacos.io/zh-cn/docs/v2/guide/admin/cluster-mode-quick-start.html","TextMarkTextContent":"nacos.io/zh-cn/docs/v2/g..."}]},{"ID":"20230819114550-29k80ag","Type":"NodeParagraph","Properties":{"id":"20230819114550-29k80ag"}}]}