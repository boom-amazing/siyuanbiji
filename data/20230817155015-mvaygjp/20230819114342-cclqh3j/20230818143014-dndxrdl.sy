{"ID":"20230818143014-dndxrdl","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230818143014-dndxrdl","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230818143014-dndxrdl\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230818143108-neckkpl\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230818175634-4e7mrce\u0026quot;,\u0026quot;scrollTop\u0026quot;:1244\u0026#125;","title":"Prometheus+Grafana+Node_exporter实现监控系统的搭建","updated":"20230818175634"},"Children":[{"ID":"20230818143108-neckkpl","Type":"NodeParagraph","Properties":{"id":"20230818143108-neckkpl","updated":"20230818174526"},"Children":[{"Type":"NodeText","Data":"Prometheus+Node_exporter 下载路径","Properties":{"id":""}}]},{"ID":"20230818174631-d7man34","Type":"NodeParagraph","Properties":{"id":"20230818174631-d7man34","updated":"20230818175127"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://prometheus.io/download/","TextMarkTextContent":"prometheus.io/download/"}]},{"ID":"20230818175039-pu1lub4","Type":"NodeParagraph","Properties":{"id":"20230818175039-pu1lub4","updated":"20230818175214"},"Children":[{"Type":"NodeText","Data":"下载完后将 Node_exporter 解压到 192.168.1.25、192.168.1.26、192.168.1.27","Properties":{"id":""}}]},{"ID":"20230818175215-8w5yxcb","Type":"NodeParagraph","Properties":{"id":"20230818175215-8w5yxcb","updated":"20230818175232"},"Children":[{"Type":"NodeText","Data":"将 Prometheus 和 grafana 安装到 192.168.1.25","Properties":{"id":""}}]},{"ID":"20230818175233-2ii7vwv","Type":"NodeParagraph","Properties":{"id":"20230818175233-2ii7vwv","updated":"20230818175306"},"Children":[{"Type":"NodeText","Data":"配置 Prometheus 下的 Prometheus.yaml 文件 配置文件如下","Properties":{"id":""}}]},{"ID":"20230818175307-gb2vywi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"eW1s","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230818175307-gb2vywi","updated":"20230818175318"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eW1s","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# my global config\nglobal:\n  scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute.\n  evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute.\n  # scrape_timeout is set to the global default (10s).\n\n# Alertmanager configuration\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          # - alertmanager:9093\n\n# Load rules once and periodically evaluate them according to the global 'evaluation_interval'.\nrule_files:\n  # - \"first_rules.yml\"\n  # - \"second_rules.yml\"\n\n# A scrape configuration containing exactly one endpoint to scrape:\n# Here it's Prometheus itself.\nscrape_configs:\n  # The job name is added as a label `job=\u003cjob_name\u003e` to any timeseries scraped from this config.\n  - job_name: \"prometheus\"\n\n    # metrics_path defaults to '/metrics'\n    # scheme defaults to 'http'.\n\n    static_configs:\n      - targets: [\"localhost:9090\"]\n\n# 添加 Node Exporter 监控配置\n  - job_name: 'node exporter'\n    static_configs:\n      - targets: ['192.168.1.25:9100', '192.168.1.26:9100', '192.168.1.27:9100']\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230818175109-5r8sguv","Type":"NodeParagraph","Properties":{"id":"20230818175109-5r8sguv","updated":"20230818175343"},"Children":[{"Type":"NodeText","Data":"然后分别在 192.168.1.25、192.168.1.26、192.168.1.27 上启动 Node_exporter","Properties":{"id":""}}]},{"ID":"20230818175343-p8k8xay","Type":"NodeParagraph","Properties":{"id":"20230818175343-p8k8xay","updated":"20230818175349"},"Children":[{"Type":"NodeText","Data":"启动命令为","Properties":{"id":""}}]},{"ID":"20230818175406-i1aq7mp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230818175406-i1aq7mp","updated":"20230818175413"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"nohup ./node_exporter \u003e out.log 2\u003e\u00261 \u0026\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230818175414-whv4jjy","Type":"NodeParagraph","Properties":{"id":"20230818175414-whv4jjy","updated":"20230818175438"},"Children":[{"Type":"NodeText","Data":"最后在 192.168.1.25 上启动 prometheus 和 grafana","Properties":{"id":""}}]},{"ID":"20230818175426-9ujchzm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2hlbGw=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20230818175426-9ujchzm","updated":"20230818175525"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2hlbGw=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"nohup ./prometheus --config.file=prometheus.yml \u003e ./prometheus.log 2\u003e\u00261 \u0026\nnohup ./bin/grafana-server web \u003e ./grafana.log 2\u003e\u00261 \u0026\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20230818175608-yvaq1d3","Type":"NodeParagraph","Properties":{"id":"20230818175608-yvaq1d3","updated":"20230818175617"},"Children":[{"Type":"NodeText","Data":"访问 Prometheus 界面","Properties":{"id":""}}]},{"ID":"20230818175618-2x0oevt","Type":"NodeParagraph","Properties":{"id":"20230818175618-2x0oevt","updated":"20230818175634"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://192.168.1.25:9090/graph","TextMarkTextContent":"192.168.1.25:9090/graph"}]},{"ID":"20230818175523-bg9nh8k","Type":"NodeParagraph","Properties":{"id":"20230818175523-bg9nh8k","updated":"20230818175536"},"Children":[{"Type":"NodeText","Data":"访问 grafana web 界面","Properties":{"id":""}}]},{"ID":"20230818175537-jczs501","Type":"NodeParagraph","Properties":{"id":"20230818175537-jczs501","updated":"20230818175603"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"http://192.168.1.25:3000/?orgId=1","TextMarkTextContent":"192.168.1.25:3000/?orgId..."}]},{"ID":"20230818175556-mounqfi","Type":"NodeParagraph","Properties":{"id":"20230818175556-mounqfi","updated":"20230818175556"}},{"ID":"20230818175634-4e7mrce","Type":"NodeParagraph","Properties":{"id":"20230818175634-4e7mrce","updated":"20230818175634"}}]}